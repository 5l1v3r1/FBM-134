#!/usr/bin/python3
from base64 import b64decode

GenerateFile = """
aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwppbXBvcnQgc29ja2V0CmltcG9ydCB0aW1lCmltcG9ydCBhcmdwYXJzZSAKaW1wb3J0IGl0ZXJ0b29scwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCBzeXMKaW1wb3J0IGZ1bmN0b29scwppbXBvcnQgY29uZmlncGFyc2VyCmltcG9ydCB1cmxsaWIuZXJyb3IKaW1wb3J0IHVybGxpYi5wYXJzZQppbXBvcnQgdXJsbGliLnJlcXVlc3QKaW1wb3J0IGNzdgppbXBvcnQgZ3ppcApmcm9tIHJhbmRvbSBpbXBvcnQgY2hvaWNlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCm5vdyA9IGRhdGV0aW1lLm5vdygpCgojW3ZhcmlhYmVsXSBUZWFtIApfVGVhbV9fXyA9ICJDeWJlci1TZWN1cml0eS1EZXYiCl92ZXJzaW9uID0gInYxLjAuMjAyMC1kZXYtIgoKX19fX19fX29wdGlvbiA9IHt9CgojY2xhc3MgS3VtcHVsYW4gY29uc3QKY2xhc3MgY29uc3QoKToKCVJlc2V0QWxsID0gIlwwMzNbMG0iCglEaW0gICAgICAgID0gIlwwMzNbMm0iCglCb2xkICAgICAgID0gIlwwMzNbMW0iCglVbmRlcmxpbmVkID0gIlwwMzNbNG0iCglCbGluayAgICAgID0gIlwwMzNbNW0iCglSZXZlcnNlICAgID0gIlwwMzNbN20iCglIaWRkZW4gICAgID0gIlwwMzNbOG0iCgoJUmVzZXRCb2xkICAgICAgID0gIlwwMzNbMjFtIgoJUmVzZXREaW0gICAgICAgID0gIlwwMzNbMjJtIgoJUmVzZXRVbmRlcmxpbmVkID0gIlwwMzNbMjRtIgoJUmVzZXRCbGluayAgICAgID0gIlwwMzNbMjVtIgoJUmVzZXRSZXZlcnNlICAgID0gIlwwMzNbMjdtIgoJUmVzZXRIaWRkZW4gICAgID0gIlwwMzNbMjhtIgoKCmRlZiBfX19fX19fX19fX19fYmFubmVyKCk6CiAgICBudW1MaXN0ID0gWyJCYW5uZXIvVGVybXV4L2Jhbm5lcjAxLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAyLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAzLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjA0LnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjA1LnR4dCIsIkJhbm5lci9UZXJtdXgvYmFubmVyMDYudHh0Iiwiem9uay1HZW5lcmF0ZSJdCiAgICBmb3IgeCBpbiByYW5nZSgxKToKICAgICAgICBmaWxlX19fX19fX19fX2Jhbm5lciA9IGNob2ljZShudW1MaXN0KQogICAgICAgIGlmIGZpbGVfX19fX19fX19fYmFubmVyID09ICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAxLnR4dCI6CiAgICAgICAgICAgIGZpbGVCYW5uZXJfID0gb3BlbihmaWxlX19fX19fX19fX2Jhbm5lcikKICAgICAgICAgICAgcHJpbnQoJyAnKQogICAgICAgICAgICBwcmludChjb25zdC5SZXNldERpbSArIGNvbG9ycy5MaWdodEJsdWUgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDIudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0UmVkICsgZmlsZUJhbm5lcl8ucmVhZCgpICsgY29sb3JzLkdyZWVuKQogICAgICAgICAgICBmaWxlQmFubmVyXy5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbGlmIGZpbGVfX19fX19fX19fYmFubmVyID09ICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAzLnR4dCI6CiAgICAgICAgICAgIGZpbGVCYW5uZXJfID0gb3BlbihmaWxlX19fX19fX19fX2Jhbm5lcikKICAgICAgICAgICAgcHJpbnQoJyAnKQogICAgICAgICAgICBwcmludChjb25zdC5SZXNldERpbSArIGNvbG9ycy5MaWdodEJsdWUgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDQudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0TWFnZW50YSArIGZpbGVCYW5uZXJfLnJlYWQoKSArIGNvbG9ycy5HcmVlbikKICAgICAgICAgICAgZmlsZUJhbm5lcl8uY2xvc2UoKQogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBmaWxlX19fX19fX19fX2Jhbm5lciA9PSAiQmFubmVyL1Rlcm11eC9iYW5uZXIwNS50eHQiOgogICAgICAgICAgICBmaWxlQmFubmVyXyA9IG9wZW4oZmlsZV9fX19fX19fX19iYW5uZXIpCiAgICAgICAgICAgIHByaW50KCcgJykKICAgICAgICAgICAgcHJpbnQoY29uc3QuUmVzZXREaW0gKyBjb2xvcnMuTGlnaHRSZWQgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDYudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0R3JheSArIGZpbGVCYW5uZXJfLnJlYWQoKSArIGNvbG9ycy5HcmVlbikKICAgICAgICAgICAgZmlsZUJhbm5lcl8uY2xvc2UoKQogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBmaWxlX19fX19fX19fX2Jhbm5lciA9PSAiem9uay1HZW5lcmF0ZSI6CiAgICAgICAgICAgIHByaW50KGNvbG9ycy5XaGl0ZSArICIgID4gQXR0YWNrZXIiKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRHcmVlbiArICIgIFRlY2huaXF1ZTogQlJVVEUgRk9SQ0UuIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICA+IENvbXByb21pc2VkIENyZWRlbnRpYWxzIikgCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRHcmVlbiArICIgID4gQm90bmV0IikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICBUZWNobmlxdWU6IEJSVVRFIEZPUkNFLiIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBWaWN0aW0gU2l0ZSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KCIiKQogICAgICAgICAgICBwYXNzCgpkZWYgX19fX19fX19fZXhwbG9pdGJhbm5lcigpOgogICAgICAgIHByaW50KGNvbG9ycy5XaGl0ZSArICIgID4gQXR0YWNrZXIiKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBDb21wcm9taXNlZCBDcmVkZW50aWFscyIpIAogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBCb3RuZXQiKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBWaWN0aW0gU2l0ZSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICBUZWNobmlxdWU6IEJSVVRFIEZPUkNFLiIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KCIiKQogICAgICAgIHBhc3MKCiNbR2VuZXJhdGVdCmRlZiBfX19fX19fX19fX19fR2VuZXJhdGVfX19fKF92YXJpYWJlbF9fKToKCiAgICBjaGFyc19fID0gX19fX19fX29wdGlvblsiX19fX19fX19fZ2xvYmFsIl1bIl9fX19fX19fY2hhcnMiXQogICAgeWVhcnNfXyA9IF9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdWyJfX19fX19fX3llYXJzIl0KICAgIGZyb21zX18gPSBfX19fX19fb3B0aW9uWyJfX19fX19fX19nbG9iYWwiXVsiX19fX19fX19udW1mciJdCiAgICBudW10b19fID0gX19fX19fX29wdGlvblsiX19fX19fX19fZ2xvYmFsIl1bIl9fX19fX19fbnVtdG8iXQogCiAgICBfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXSA9IFtdCgogICAgaWYJX3ZhcmlhYmVsX19bIl9fX3NwZWNoYXJzXyJdID09ICdZJyBvciBfdmFyaWFiZWxfX1siX19fc3BlY2hhcnNfIl0gPT0gInkiOgogICAgCWZvciBfX3hfX18gaW4gY2hhcnNfXzoKICAgIAkJX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0uYXBwZW5kKF9feF9fXykKICAgIAkJZm9yIF94X18gaW4gY2hhcnNfXzoKICAgIAkJCV92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdLmFwcGVuZChfX3hfX18gKyBfeF9fKQogICAgCQkJZm9yIF94XyBpbiBjaGFyc19fOgogICAgCQkJCV92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdLmFwcGVuZChfX3hfX18gKyBfeF9fICsgX3hfKQoKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJOb3cgQ3JlYXRlIEEgRGljdGlvbmFyeSBQYXNzd29yZCBCYXNlIC4uLiAiKQogICAgdGltZS5zbGVlcCgxKQoKICAgICNbXWZpcnN0CgogICAgX19CID0gX3ZhcmlhYmVsX19bIl92XyJdWy0yOl0KICAgIF9fVSA9IF92YXJpYWJlbF9fWyJfdl8iXVstMzpdCiAgICBfX1kgPSBfdmFyaWFiZWxfX1siX3ZfIl1bLTQ6XQogICAgX194ID0gX3ZhcmlhYmVsX19bIl92XyJdWzE6Ml0KICAgIF9fRyA9IF92YXJpYWJlbF9fWyJfdl8iXVszOjRdCiAgICBfX0MgPSBfdmFyaWFiZWxfX1siX3ZfIl1bOjJdCiAgICBfX0UgPSBfdmFyaWFiZWxfX1siX3ZfIl1bMjo0XQoKICAgICNbXSBwYXJ0bmVycwoKICAgIHdpZmViX3l5ID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fIl1bLTI6XQogICAgd2lmZWJfeXl5ID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fIl1bLTM6XQogICAgd2lmZWJfeXl5eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdWy00Ol0KICAgIHdpZmViX3hkID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fIl1bMToyXQogICAgd2lmZWJfeG0gPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18iXVszOjRdCiAgICB3aWZlYl9kZCA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdWzoyXQogICAgd2lmZWJfbW0gPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18iXVsyOjRdCgogICAgI1tCaXJ0ZGF5c10gQ2hpbGQKCiAgICBraWRiX3l5ID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdWy0yOl0KICAgIGtpZGJfeXl5ID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdWy0zOl0KICAgIGtpZGJfeXl5eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRla2lkX18iXVstNDpdCiAgICBraWRiX3hkID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdWzE6Ml0KICAgIGtpZGJfeG0gPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZWtpZF9fIl1bMzo0XQogICAga2lkYl9kZCA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRla2lkX18iXVs6Ml0KICAgIGtpZGJfbW0gPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZWtpZF9fIl1bMjo0XQoKICAgICNbQ29udmVydF0gZmlyc3QgbGV0dGVycyB0byB1cHBlcmNhc2UuLi4KCiAgICBuYW1ldXAgPSBfdmFyaWFiZWxfX1siX25hbWVfIl0udGl0bGUoKQogICAgc3VybmFtZXVwID0gX3ZhcmlhYmVsX19bIl9zdXJuYW1lXyJdLnRpdGxlKCkKICAgIG5pY2t1cCA9IF92YXJpYWJlbF9fWyJfTmlja18iXS50aXRsZSgpCiAgICB3aWZldXAgPSBfdmFyaWFiZWxfX1siX3BhcnRuZXJzX18iXS50aXRsZSgpCiAgICB3aWZlbnVwID0gX3ZhcmlhYmVsX19bIl9fX19OaWNrcGFydG5lcnNfXyJdLnRpdGxlKCkKICAgIGtpZHVwID0gX3ZhcmlhYmVsX19bIl9fX19fX2tpZCJdLnRpdGxlKCkKICAgIGtpZG51cCA9IF92YXJpYWJlbF9fWyJfX19fbmlja2lkXyJdLnRpdGxlKCkKICAgIHBldHVwID0gX3ZhcmlhYmVsX19bIl9fcGV0XyJdLnRpdGxlKCkKICAgIGNvbXBhbnl1cCA9IF92YXJpYWJlbF9fWyJfX2NvbXBhbnlfIl0udGl0bGUoKQoKCiAgICB3b3Jkc3VwID0gW10KICAgIHdvcmRzdXAgPSBsaXN0KG1hcChzdHIudGl0bGUsIF92YXJpYWJlbF9fWyJfX193b3Jkc18iXSkpCgogICAgd29yZCA9IF92YXJpYWJlbF9fWyJfX193b3Jkc18iXSArIHdvcmRzdXAKCiAgICAjIHJldmVyc2UgYSBuYW1lCgogICAgcmV2X25hbWUgPSBfdmFyaWFiZWxfX1siX25hbWVfIl1bOjotMV0KICAgIHJldl9uYW1ldXAgPSBuYW1ldXBbOjotMV0KICAgIHJldl9uaWNrID0gX3ZhcmlhYmVsX19bIl9OaWNrXyJdWzo6LTFdCiAgICByZXZfbmlja3VwID0gbmlja3VwWzo6LTFdCiAgICByZXZfd2lmZSA9IF92YXJpYWJlbF9fWyJfcGFydG5lcnNfXyJdWzo6LTFdCiAgICByZXZfd2lmZXVwID0gd2lmZXVwWzo6LTFdCiAgICByZXZfa2lkID0gX3ZhcmlhYmVsX19bIl9fX19fX2tpZCJdWzo6LTFdCiAgICByZXZfa2lkdXAgPSBraWR1cFs6Oi0xXQoKICAgIHJldmVyc2UgPSBbCiAgICAgICAgcmV2X25hbWUsCiAgICAgICAgcmV2X25hbWV1cCwKICAgICAgICByZXZfbmljaywKICAgICAgICByZXZfbmlja3VwLAogICAgICAgIHJldl93aWZlLAogICAgICAgIHJldl93aWZldXAsCiAgICAgICAgcmV2X2tpZCwKICAgICAgICByZXZfa2lkdXAsCiAgICBdCiAgICByZXZfbiA9IFtyZXZfbmFtZSwgcmV2X25hbWV1cCwgcmV2X25pY2ssIHJldl9uaWNrdXBdCiAgICByZXZfdyA9IFtyZXZfd2lmZSwgcmV2X3dpZmV1cF0KICAgIHJldl9rID0gW3Jldl9raWQsIHJldl9raWR1cF0KICAgICMgTGV0J3MgZG8gc29tZSBzZXJpb3VzIHdvcmshIFRoaXMgd2lsbCBiZSBhIG1lc3Mgb2YgY29kZSwgYnV0Li4uIHdobyBjYXJlcz8gOikKCiAgICAjIEJpcnRoZGF5cyBjb21iaW5hdGlvbnMKCiAgICBiZHMgPSBbCiAgICAgICAgX19CLAogICAgICAgIF9fVSwKICAgICAgICBfX1ksCiAgICAgICAgX194LAogICAgICAgIF9fRywKICAgICAgICBfX0MsCiAgICAgICAgX19FLAogICAgXQoKICAgIGJkc3MgPSBbXQoKICAgIGZvciBiZHMxIGluIGJkczoKICAgICAgICBiZHNzLmFwcGVuZChiZHMxKQogICAgICAgIGZvciBiZHMyIGluIGJkczoKICAgICAgICAgICAgaWYgYmRzLmluZGV4KGJkczEpICE9IGJkcy5pbmRleChiZHMyKToKICAgICAgICAgICAgICAgIGJkc3MuYXBwZW5kKGJkczEgKyBiZHMyKQogICAgICAgICAgICAgICAgZm9yIGJkczMgaW4gYmRzOgogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgYmRzLmluZGV4KGJkczEpICE9IGJkcy5pbmRleChiZHMyKQogICAgICAgICAgICAgICAgICAgICAgICBhbmQgYmRzLmluZGV4KGJkczIpICE9IGJkcy5pbmRleChiZHMzKQogICAgICAgICAgICAgICAgICAgICAgICBhbmQgYmRzLmluZGV4KGJkczEpICE9IGJkcy5pbmRleChiZHMzKQogICAgICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgICAgIGJkc3MuYXBwZW5kKGJkczEgKyBiZHMyICsgYmRzMykKCiAgICAgICAgICAgICAgICAjIEZvciBhIHdvbWFuLi4uCiAgICB3YmRzID0gW3dpZmViX3l5LCB3aWZlYl95eXksIHdpZmViX3l5eXksIHdpZmViX3hkLCB3aWZlYl94bSwgd2lmZWJfZGQsIHdpZmViX21tXQoKICAgIHdiZHNzID0gW10KCiAgICBmb3Igd2JkczEgaW4gd2JkczoKICAgICAgICB3YmRzcy5hcHBlbmQod2JkczEpCiAgICAgICAgZm9yIHdiZHMyIGluIHdiZHM6CiAgICAgICAgICAgIGlmIHdiZHMuaW5kZXgod2JkczEpICE9IHdiZHMuaW5kZXgod2JkczIpOgogICAgICAgICAgICAgICAgd2Jkc3MuYXBwZW5kKHdiZHMxICsgd2JkczIpCiAgICAgICAgICAgICAgICBmb3Igd2JkczMgaW4gd2JkczoKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIHdiZHMuaW5kZXgod2JkczEpICE9IHdiZHMuaW5kZXgod2JkczIpCiAgICAgICAgICAgICAgICAgICAgICAgIGFuZCB3YmRzLmluZGV4KHdiZHMyKSAhPSB3YmRzLmluZGV4KHdiZHMzKQogICAgICAgICAgICAgICAgICAgICAgICBhbmQgd2Jkcy5pbmRleCh3YmRzMSkgIT0gd2Jkcy5pbmRleCh3YmRzMykKICAgICAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgICAgICB3YmRzcy5hcHBlbmQod2JkczEgKyB3YmRzMiArIHdiZHMzKQoKICAgICAgICAgICAgICAgICMgYW5kIGEgY2hpbGQuLi4KICAgIGtiZHMgPSBba2lkYl95eSwga2lkYl95eXksIGtpZGJfeXl5eSwga2lkYl94ZCwga2lkYl94bSwga2lkYl9kZCwga2lkYl9tbV0KCiAgICBrYmRzcyA9IFtdCgogICAgZm9yIGtiZHMxIGluIGtiZHM6CiAgICAgICAga2Jkc3MuYXBwZW5kKGtiZHMxKQogICAgICAgIGZvciBrYmRzMiBpbiBrYmRzOgogICAgICAgICAgICBpZiBrYmRzLmluZGV4KGtiZHMxKSAhPSBrYmRzLmluZGV4KGtiZHMyKToKICAgICAgICAgICAgICAgIGtiZHNzLmFwcGVuZChrYmRzMSArIGtiZHMyKQogICAgICAgICAgICAgICAgZm9yIGtiZHMzIGluIGtiZHM6CiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICBrYmRzLmluZGV4KGtiZHMxKSAhPSBrYmRzLmluZGV4KGtiZHMyKQogICAgICAgICAgICAgICAgICAgICAgICBhbmQga2Jkcy5pbmRleChrYmRzMikgIT0ga2Jkcy5pbmRleChrYmRzMykKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGtiZHMuaW5kZXgoa2JkczEpICE9IGtiZHMuaW5kZXgoa2JkczMpCiAgICAgICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICAgICAga2Jkc3MuYXBwZW5kKGtiZHMxICsga2JkczIgKyBrYmRzMykKCiAgICAgICAgICAgICAgICAjIHN0cmluZyBjb21iaW5hdGlvbnMuLi4uCgogICAga29tYmluYWFjID0gW192YXJpYWJlbF9fWyJfX3BldF8iXSwgcGV0dXAsIF92YXJpYWJlbF9fWyJfX2NvbXBhbnlfIl0sIGNvbXBhbnl1cF0KCiAgICBrb21iaW5hID0gWwogICAgICAgIF92YXJpYWJlbF9fWyJfbmFtZV8iXSwKICAgICAgICBfdmFyaWFiZWxfX1siX3N1cm5hbWVfIl0sCiAgICAgICAgX3ZhcmlhYmVsX19bIl9OaWNrXyJdLAogICAgICAgIG5hbWV1cCwKICAgICAgICBzdXJuYW1ldXAsCiAgICAgICAgbmlja3VwLAogICAgXQoKICAgIGtvbWJpbmF3ID0gWwogICAgICAgIF92YXJpYWJlbF9fWyJfcGFydG5lcnNfXyJdLAogICAgICAgIF92YXJpYWJlbF9fWyJfX19fTmlja3BhcnRuZXJzX18iXSwKICAgICAgICB3aWZldXAsCiAgICAgICAgd2lmZW51cCwKICAgICAgICBfdmFyaWFiZWxfX1siX3N1cm5hbWVfIl0sCiAgICAgICAgc3VybmFtZXVwLAogICAgXQoKICAgIGtvbWJpbmFrID0gWwogICAgICAgIF92YXJpYWJlbF9fWyJfX19fX19raWQiXSwKICAgICAgICBfdmFyaWFiZWxfX1siX19fX25pY2tpZF8iXSwKICAgICAgICBraWR1cCwKICAgICAgICBraWRudXAsCiAgICAgICAgX3ZhcmlhYmVsX19bIl9zdXJuYW1lXyJdLAogICAgICAgIHN1cm5hbWV1cCwKICAgIF0KCiAgICBrb21iaW5hYSA9IFtdCiAgICBmb3Iga29tYmluYTEgaW4ga29tYmluYToKICAgICAgICBrb21iaW5hYS5hcHBlbmQoa29tYmluYTEpCiAgICAgICAgZm9yIGtvbWJpbmEyIGluIGtvbWJpbmE6CiAgICAgICAgICAgIGlmIGtvbWJpbmEuaW5kZXgoa29tYmluYTEpICE9IGtvbWJpbmEuaW5kZXgoa29tYmluYTIpIGFuZCBrb21iaW5hLmluZGV4KAogICAgICAgICAgICAgICAga29tYmluYTEudGl0bGUoKQogICAgICAgICAgICApICE9IGtvbWJpbmEuaW5kZXgoa29tYmluYTIudGl0bGUoKSk6CiAgICAgICAgICAgICAgICBrb21iaW5hYS5hcHBlbmQoa29tYmluYTEgKyBrb21iaW5hMikKCiAgICBrb21iaW5hYXcgPSBbXQogICAgZm9yIGtvbWJpbmExIGluIGtvbWJpbmF3OgogICAgICAgIGtvbWJpbmFhdy5hcHBlbmQoa29tYmluYTEpCiAgICAgICAgZm9yIGtvbWJpbmEyIGluIGtvbWJpbmF3OgogICAgICAgICAgICBpZiBrb21iaW5hdy5pbmRleChrb21iaW5hMSkgIT0ga29tYmluYXcuaW5kZXgoa29tYmluYTIpIGFuZCBrb21iaW5hdy5pbmRleCgKICAgICAgICAgICAgICAgIGtvbWJpbmExLnRpdGxlKCkKICAgICAgICAgICAgKSAhPSBrb21iaW5hdy5pbmRleChrb21iaW5hMi50aXRsZSgpKToKICAgICAgICAgICAgICAgIGtvbWJpbmFhdy5hcHBlbmQoa29tYmluYTEgKyBrb21iaW5hMikKCiAgICBrb21iaW5hYWsgPSBbXQogICAgZm9yIGtvbWJpbmExIGluIGtvbWJpbmFrOgogICAgICAgIGtvbWJpbmFhay5hcHBlbmQoa29tYmluYTEpCiAgICAgICAgZm9yIGtvbWJpbmEyIGluIGtvbWJpbmFrOgogICAgICAgICAgICBpZiBrb21iaW5hay5pbmRleChrb21iaW5hMSkgIT0ga29tYmluYWsuaW5kZXgoa29tYmluYTIpIGFuZCBrb21iaW5hay5pbmRleCgKICAgICAgICAgICAgICAgIGtvbWJpbmExLnRpdGxlKCkKICAgICAgICAgICAgKSAhPSBrb21iaW5hay5pbmRleChrb21iaW5hMi50aXRsZSgpKToKICAgICAgICAgICAgICAgIGtvbWJpbmFhay5hcHBlbmQoa29tYmluYTEgKyBrb21iaW5hMikKCiAgICBrb21iaSA9IHt9CiAgICBrb21iaVsxXSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYSwgYmRzcykpCiAgICBrb21iaVsxXSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWEsIGJkc3MsICJfIikpCiAgICBrb21iaVsyXSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYXcsIHdiZHNzKSkKICAgIGtvbWJpWzJdICs9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYXcsIHdiZHNzLCAiXyIpKQogICAga29tYmlbM10gPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWFrLCBrYmRzcykpCiAgICBrb21iaVszXSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWFrLCBrYmRzcywgIl8iKSkKICAgIGtvbWJpWzRdID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhLCB5ZWFyc19fKSkKICAgIGtvbWJpWzRdICs9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYSwgeWVhcnNfXywgIl8iKSkKICAgIGtvbWJpWzVdID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhYywgeWVhcnNfXykpCiAgICBrb21iaVs1XSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWFjLCB5ZWFyc19fLCAiXyIpKQogICAga29tYmlbNl0gPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWF3LCB5ZWFyc19fKSkKICAgIGtvbWJpWzZdICs9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYXcsIHllYXJzX18sICJfIikpCiAgICBrb21iaVs3XSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYWssIHllYXJzX18pKQogICAga29tYmlbN10gKz0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhaywgeWVhcnNfXywgIl8iKSkKICAgIGtvbWJpWzhdID0gbGlzdChIYWNrZXJrb254KHdvcmQsIGJkc3MpKQogICAga29tYmlbOF0gKz0gbGlzdChIYWNrZXJrb254KHdvcmQsIGJkc3MsICJfIikpCiAgICBrb21iaVs5XSA9IGxpc3QoSGFja2Vya29ueCh3b3JkLCB3YmRzcykpCiAgICBrb21iaVs5XSArPSBsaXN0KEhhY2tlcmtvbngod29yZCwgd2Jkc3MsICJfIikpCiAgICBrb21iaVsxMF0gPSBsaXN0KEhhY2tlcmtvbngod29yZCwga2Jkc3MpKQogICAga29tYmlbMTBdICs9IGxpc3QoSGFja2Vya29ueCh3b3JkLCBrYmRzcywgIl8iKSkKICAgIGtvbWJpWzExXSA9IGxpc3QoSGFja2Vya29ueCh3b3JkLCB5ZWFyc19fKSkKICAgIGtvbWJpWzExXSArPSBsaXN0KEhhY2tlcmtvbngod29yZCwgeWVhcnNfXywgIl8iKSkKICAgIGtvbWJpWzEyXSA9IFsiIl0KICAgIGtvbWJpWzEzXSA9IFsiIl0KICAgIGtvbWJpWzE0XSA9IFsiIl0KICAgIGtvbWJpWzE1XSA9IFsiIl0KICAgIGtvbWJpWzE2XSA9IFsiIl0KICAgIGtvbWJpWzIxXSA9IFsiIl0KICAgIGlmIF92YXJpYWJlbF9fWyJfX19yYW5kb21fX18iXSA9PSAieSIgb3IgX3ZhcmlhYmVsX19bIl9fX3JhbmRvbV9fXyJdID09ICJZIjoKICAgICAgICBrb21iaVsxMl0gPSBsaXN0KGNvbmNhdHMod29yZCwgZnJvbXNfXywgbnVtdG9fXykpCiAgICAgICAga29tYmlbMTNdID0gbGlzdChjb25jYXRzKGtvbWJpbmFhLCBmcm9tc19fLCBudW10b19fKSkKICAgICAgICBrb21iaVsxNF0gPSBsaXN0KGNvbmNhdHMoa29tYmluYWFjLCBmcm9tc19fLCBudW10b19fKSkKICAgICAgICBrb21iaVsxNV0gPSBsaXN0KGNvbmNhdHMoa29tYmluYWF3LCBmcm9tc19fLCBudW10b19fKSkKICAgICAgICBrb21iaVsxNl0gPSBsaXN0KGNvbmNhdHMoa29tYmluYWFrLCBmcm9tc19fLCBudW10b19fKSkKICAgICAgICBrb21iaVsyMV0gPSBsaXN0KGNvbmNhdHMocmV2ZXJzZSwgZnJvbXNfXywgbnVtdG9fXykpCiAgICBrb21iaVsxN10gPSBsaXN0KEhhY2tlcmtvbngocmV2ZXJzZSwgeWVhcnNfXykpCiAgICBrb21iaVsxN10gKz0gbGlzdChIYWNrZXJrb254KHJldmVyc2UsIHllYXJzX18sICJfIikpCiAgICBrb21iaVsxOF0gPSBsaXN0KEhhY2tlcmtvbngocmV2X3csIHdiZHNzKSkKICAgIGtvbWJpWzE4XSArPSBsaXN0KEhhY2tlcmtvbngocmV2X3csIHdiZHNzLCAiXyIpKQogICAga29tYmlbMTldID0gbGlzdChIYWNrZXJrb254KHJldl9rLCBrYmRzcykpCiAgICBrb21iaVsxOV0gKz0gbGlzdChIYWNrZXJrb254KHJldl9rLCBrYmRzcywgIl8iKSkKICAgIGtvbWJpWzIwXSA9IGxpc3QoSGFja2Vya29ueChyZXZfbiwgYmRzcykpCiAgICBrb21iaVsyMF0gKz0gbGlzdChIYWNrZXJrb254KHJldl9uLCBiZHNzLCAiXyIpKQogICAga29tYjAwMSA9IFsiIl0KICAgIGtvbWIwMDIgPSBbIiJdCiAgICBrb21iMDAzID0gWyIiXQogICAga29tYjAwNCA9IFsiIl0KICAgIGtvbWIwMDUgPSBbIiJdCiAgICBrb21iMDA2ID0gWyIiXQogICAgaWYgbGVuKF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSA+IDA6CiAgICAgICAga29tYjAwMSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYSwgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0pKQogICAgICAgIGtvbWIwMDIgPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWFjLCBfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXSkpCiAgICAgICAga29tYjAwMyA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYXcsIF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSkKICAgICAgICBrb21iMDA0ID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhaywgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0pKQogICAgICAgIGtvbWIwMDUgPSBsaXN0KEhhY2tlcmtvbngod29yZCwgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0pKQogICAgICAgIGtvbWIwMDYgPSBsaXN0KEhhY2tlcmtvbngocmV2ZXJzZSwgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0pKQoKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiR2VuZXJhdGUgRGljdGlvbmFyeSBUeXBlIEJ1bGxldHMiKQogICAgdGltZS5zbGVlcCgyKQoKICAgIGtvbWJfdW5pcXVlID0ge30KICAgIGZvciBpIGluIHJhbmdlKDEsIDIyKToKICAgICAgICBrb21iX3VuaXF1ZVtpXSA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iaVtpXSkua2V5cygpKQoKICAgIGtvbWJfdW5pcXVlMDEgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYmluYWEpLmtleXMoKSkKICAgIGtvbWJfdW5pcXVlMDIgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYmluYWFjKS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTAzID0gbGlzdChkaWN0LmZyb21rZXlzKGtvbWJpbmFhdykua2V5cygpKQogICAga29tYl91bmlxdWUwNCA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iaW5hYWspLmtleXMoKSkKICAgIGtvbWJfdW5pcXVlMDUgPSBsaXN0KGRpY3QuZnJvbWtleXMod29yZCkua2V5cygpKQogICAga29tYl91bmlxdWUwNyA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iMDAxKS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTA4ID0gbGlzdChkaWN0LmZyb21rZXlzKGtvbWIwMDIpLmtleXMoKSkKICAgIGtvbWJfdW5pcXVlMDkgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYjAwMykua2V5cygpKQogICAga29tYl91bmlxdWUwMTAgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYjAwNCkua2V5cygpKQogICAga29tYl91bmlxdWUwMTEgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYjAwNSkua2V5cygpKQogICAga29tYl91bmlxdWUwMTIgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYjAwNikua2V5cygpKQoKICAgIHVuaXFsaXN0ID0gKAogICAgICAgIGJkc3MKICAgICAgICArIHdiZHNzCiAgICAgICAgKyBrYmRzcwogICAgICAgICsgcmV2ZXJzZQogICAgICAgICsga29tYl91bmlxdWUwMQogICAgICAgICsga29tYl91bmlxdWUwMgogICAgICAgICsga29tYl91bmlxdWUwMwogICAgICAgICsga29tYl91bmlxdWUwNAogICAgICAgICsga29tYl91bmlxdWUwNQogICAgKQoKICAgIGZvciBpIGluIHJhbmdlKDEsIDIxKToKICAgICAgICB1bmlxbGlzdCArPSBrb21iX3VuaXF1ZVtpXQoKICAgIHVuaXFsaXN0ICs9ICgKICAgICAgICBrb21iX3VuaXF1ZTA3CiAgICAgICAgKyBrb21iX3VuaXF1ZTA4CiAgICAgICAgKyBrb21iX3VuaXF1ZTA5CiAgICAgICAgKyBrb21iX3VuaXF1ZTAxMAogICAgICAgICsga29tYl91bmlxdWUwMTEKICAgICAgICArIGtvbWJfdW5pcXVlMDEyCiAgICApCiAgICB1bmlxdWVfbGlzdGEgPSBsaXN0KGRpY3QuZnJvbWtleXModW5pcWxpc3QpLmtleXMoKSkKICAgIHVuaXF1ZV9sZWV0ID0gW10KICAgIGlmIF92YXJpYWJlbF9fWyJfX19fbW9kZSJdID09ICJ5IiBvciBfdmFyaWFiZWxfX1siX19fX21vZGUiXSA9PSAiWSI6CiAgICAgICAgZm9yICgKICAgICAgICAgICAgeAogICAgICAgICkgaW4gKAogICAgICAgICAgICB1bmlxdWVfbGlzdGEKICAgICAgICApOiAgIyBpZiB5b3Ugd2FudCB0byBhZGQgbW9yZSBsZWV0IGNoYXJzLCB5b3Ugd2lsbCBuZWVkIHRvIGFkZCBtb3JlIGxpbmVzIGluIGN1cHAuY2ZnIHRvby4uLgoKICAgICAgICAgICAgeCA9IG1ha2VfbGVldCh4KSAgIyBjb252ZXJ0IHRvIGxlZXQKICAgICAgICAgICAgdW5pcXVlX2xlZXQuYXBwZW5kKHgpCgogICAgdW5pcXVlX2xpc3QgPSB1bmlxdWVfbGlzdGEgKyB1bmlxdWVfbGVldAoKICAgIHVuaXF1ZV9saXN0X2ZpbmlzaGVkID0gW10KICAgIHVuaXF1ZV9saXN0X2ZpbmlzaGVkID0gWwogICAgICAgIHgKICAgICAgICBmb3IgeCBpbiB1bmlxdWVfbGlzdAogICAgICAgIGlmIGxlbih4KSA8IF9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdWyJfX19fX19fX2N0b2ZyIl0gYW5kIGxlbih4KSA+IF9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdWyJfX19fX19fX2Nmcm9tIl0KICAgIF0KCiAgICBwcmludF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18oIkdlbmVyYXRlLyIgKyBfdmFyaWFiZWxfX1siX25hbWVfIl0gKyAiLnR4dCIsIHVuaXF1ZV9saXN0X2ZpbmlzaGVkKQoKCiNDbGFzcyBLdW1wdWxhbiBXYXJuYQpjbGFzcyBjb2xvcnMoKToKCURlZmF1bHQgICAgICA9ICJcMDMzWzM5bSIKCUJsYWNrICAgICAgICA9ICJcMDMzWzMwbSIKCVJlZCAgICAgICAgICA9ICJcMDMzWzMxbSIKCUdyZWVuICAgICAgICA9ICJcMDMzWzMybSIKCVllbGxvdyAgICAgICA9ICJcMDMzWzMzbSIKCUJsdWUgICAgICAgICA9ICJcMDMzWzM0bSIKCU1hZ2VudGEgICAgICA9ICJcMDMzWzM1bSIKCUN5YW4gICAgICAgICA9ICJcMDMzWzM2bSIKCUxpZ2h0R3JheSAgICA9ICJcMDMzWzM3bSIKCURhcmtHcmF5ICAgICA9ICJcMDMzWzkwbSIKCUxpZ2h0UmVkICAgICA9ICJcMDMzWzkxbSIKCUxpZ2h0R3JlZW4gICA9ICJcMDMzWzkybSIKCUxpZ2h0WWVsbG93ICA9ICJcMDMzWzkzbSIKCUxpZ2h0Qmx1ZSAgICA9ICJcMDMzWzk0bSIKCUxpZ2h0TWFnZW50YSA9ICJcMDMzWzk1bSIKCUxpZ2h0Q3lhbiAgICA9ICJcMDMzWzk2bSIKCVdoaXRlICAgICAgICA9ICJcMDMzWzk3bSIKCiNmdW5jdGlvbiBQYXNzd29yZCBCYXNpcyBLYW11cwpkZWYgZnVuY3Rpb24oX19fX19fX2ZpbGVuYW1lKToKCglpZiBvcy5wYXRoLmlzZmlsZShfX19fX19fZmlsZW5hbWUpOgoKCQljb25fX19fXyA9IGNvbmZpZ3BhcnNlci5Db25maWdQYXJzZXIoKQoJCWNvbl9fX19fLnJlYWQoX19fX19fX2ZpbGVuYW1lKQoKCQlfX19fX19fb3B0aW9uWyJfX19fX19fX19nbG9iYWwiXSA9IHsKCgkJIl9fX19fX19feWVhcnMiOiBjb25fX19fXy5nZXQoIl9fX19fX19feWVhcnMiLCAiX19fX19fX195ZWFycyIpLnNwbGl0KCIsIiksCgkJIl9fX19fX19fY2hhcnMiOiBjb25fX19fXy5nZXQoIl9fX19fX19fc3BlY2lhbGNoYXJzXyIsICJfX19fX19fX2NoYXJzIikuc3BsaXQoIiwiKSwKCQkiX19fX19fX19udW1mciI6IGNvbl9fX19fLmdldGludCgiX19fX19fX19udW0iLCAiX19fZnJvbSIpLAoJCSJfX19fX19fX251bXRvIjogY29uX19fX18uZ2V0aW50KCJfX19fX19fX251bSIsICJfX19fX3RvIiksCgkJIl9fX19fX19fY2Zyb20iOiBjb25fX19fXy5nZXRpbnQoIl9fX19fX19fbnVtIiwgIl9fd2Nmcm9tIiksCgkJIl9fX19fX19fY3RvZnIiOiBjb25fX19fXy5nZXRpbnQoIl9fX19fX19fbnVtIiwgIl9fX3djdG8iKSwKCQkiX19fX19fX190aHJlcyI6IGNvbl9fX19fLmdldGludCgiX19fX19fX19udW0iLCAiX190aHJlcyIpLAoJCSJfX19fX19fZ2V0dXJsIjogY29uX19fX18uZ2V0KCJfX19fZWN0byIsICJfX19fX19lY3RvdXJsIiksCgkJIl9fX19fZG93bmxvYWQiOiBjb25fX19fXy5nZXQoIl9fX2Rvd25sb2FkIiwgIl9fX19fX2RpY3QiKSwKCgoJCX0KCgkJX19fbGVldCA9IGZ1bmN0b29scy5wYXJ0aWFsKGNvbl9fX19fLmdldCwgIl9fX2xlZXRfIikKCQlfX19fX3RjID0ge30KCQlfX19fZXJzID0geyJjIiwgInkiLCAiYiIsICJlIiwgInIiLCAiaSIsICJuIiwgImQifQoKCQlmb3IgX2V0IGluIF9fX19lcnM6CgkJCV9fX19fdGNbX2V0XSA9IGNvbl9fX19fLmdldCgiX19fbGVldF8iLCBfZXQpCgkJX19fX19fX29wdGlvblsiX19fX19FVFQiXSA9IF9fX19fdGMKCgkJcmV0dXJuIFRydWUKCgllbHNlOgoJCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICArICJDb25maWd1cmF0aW9uIGZpbGUgIiArIF9fX19fX19maWxlbmFtZSArICIgbm90IGZvdW5kISIpCgkJc3lzLmV4aXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgIkV4aXRpbmcuIiArIGNvbG9ycy5EZWZhdWx0KQoKCQlyZXR1cm4gRmFsc2UKCiNwcmludCBIYXNpbCBHYW5lcmF0ZSBQYXNzd29yZCBCYXNpcyBLYW11cwpkZWYgcHJpbnRfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fKGZpbGVuYW1lLCB1bmlxdWVfbGlzdF9maW5pc2hlZCk6CiAgICBmID0gb3BlbihmaWxlbmFtZSwgInciKQogICAgdW5pcXVlX2xpc3RfZmluaXNoZWQuc29ydCgpCiAgICBmLndyaXRlKG9zLmxpbmVzZXAuam9pbih1bmlxdWVfbGlzdF9maW5pc2hlZCkpCiAgICBmLmNsb3NlKCkKICAgIGYgPSBvcGVuKGZpbGVuYW1lLCAiciIpCiAgICBsaW5lcyA9IDAKICAgIGZvciBsaW5lIGluIGY6CiAgICAgICAgbGluZXMgKz0gMQogICAgZi5jbG9zZSgpCiAgICBwcmludCggY29sb3JzLkxpZ2h0UmVkICsgIlsrXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiU2F2aW5nIEJ1bGxldHMgRGljdGlvbmFyeSB0eXBlIChTKSAuLi4iICkKICAgIHRpbWUuc2xlZXAoMikKICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgcHJpbnQoIGNvbG9ycy5MaWdodFJlZCArICJbK10gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIk5vdyBZb3UgTmVlZCBZb3VyIFdlYXBvbiBSZWFkeSAiICsgY29sb3JzLkxpZ2h0UmVkICsgZmlsZW5hbWUgKyBjb2xvcnMuTGlnaHRHcmVlbiArICIgQ291bnRpbmcgIiArIGNvbG9ycy5MaWdodFJlZCArIHN0cihsaW5lcykgKyBjb2xvcnMuRGVmYXVsdCApCiAgICBfX29wdGlvbl8gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWytdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJEbyB5b3Ugd2FudCB0byBzdGFydCB0aGUgYXR0YWNrID8gWS9bTl06ICIpLmxvd2VyKCkKCiAgICBpZiBfX29wdGlvbl8gPT0gInkiOgogICAgICAgIF9ub19fXyA9IHN0cihsaW5lcykKICAgICAgICBfX19hdHRhY2soZmlsZW5hbWUsX25vX19fKQogICAgICAgIHBhc3MKCiNDbGFzcyBMb2FkaW5nIENPbnNvbGUgRkJNLTEzNApkZWYgX1RlYW1fXygpOgoJX0RFX18gPSBGYWxzZQoJX05FX18gPSAxCglmb3IgeCBpbiBpdGVydG9vbHMuY3ljbGUoWydDWScsICdCRScsICdSUycsICdFQycgLCAnVVInICwgJ0lSJyAsICdJVCcgLCAnWSddKToKCQlfTkVfXyArPSAxCgkJc3lzLnN0ZG91dC53cml0ZSgnXHInICsgY29sb3JzLkxpZ2h0UmVkICsgJ1slc10nJShfTkVfXykgKyAiIFN0YXJ0aW5nIFRoZSBGQk0tMTM0IENvbnNvbGUocykuLi4gIiArIHggKyBjb2xvcnMuRGVmYXVsdCkKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQl0aW1lLnNsZWVwKDAuMSkKCQlpZiBfTkVfXyA9PSAxMDA6CgkJCW9zLnN5c3RlbSgnY2xlYXInKQoJCQlfaW50ZXJhY3RpdmUoKQoJCQlicmVhawoJCXBhc3MKCicnJwoJRkItQnJ1dGUgRm9yY2UgMS4wIC14CglKYXlhbGFoIEluZG9uZXNpYWt1CgkoYykyMDIwIAoJaHR0cHM6Ly9naXRodWIuY29tL2J5aW5kb3NlY3VyaXR5CglbSVBdIDExNC4xMjUuNTYuMTQ4CicnJwoKI0NsYXNzIExvYWRpbmcgQ09uc29sZSBGQk0tMTM0CmRlZiBfX19Mb2FkaW5nXygpOgoJX18gPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1fVGVhbV9fKQoJX18uc3RhcnQoKQoJcGFzcwoKCiNpbnRlcmFjdGl2ZSBDb25zb2xlIFVzZXIgTWVtaWxpaCBPcHRpb25zCmRlZiBfaW50ZXJhY3RpdmUoKToKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIlN0YXJ0aW5nIHBlcnNpc3RlbnQgaGFuZGxlcihzKSIpCgl0aW1lLnNsZWVwKDMpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX19pbnB1dCA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICArICAiRG8geW91IHdhbnQgdG8gTWFrZSBhIERpY3Rpb25hcnk/IFkvW05dOiAiKQoJCglpZiBfX2lucHV0ID09ICd5JyBvciBfX2lucHV0ID09ICdZJzoKCQlfY2FydHJpZGdlKCkKCQlwYXNzCgllbGlmIF9faW5wdXQgPT0gJ24nIG9yIF9faW5wdXQgPT0gJ04nOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCV9waW50YXMoKQoJcGFzcwoKI1N0YXJ0IFRoZSB3b3JsZGxpc3QgUHJvc2VzCmRlZiBfY2FydHJpZGdlKCk6CgoJX3ZhcmlhYmVsX18gPSB7fQoKI2lucHV0W05hbWVdIAoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX25hbWVfID0gaW5wdXQoIk5hbWU6fiQgIikKCXdoaWxlIGxlbihfbmFtZV8pID09IDAgb3IgX25hbWVfID09ICIgIiBvciBfbmFtZV8gPT0gIiAgIiBvciBfbmFtZV8gPT0gIiAgICI6CgkJb3Muc3lzdGVtKCJjbGVhciIpCgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlstXSBZb3UgbXVzdCBlbnRlciBhIG5hbWUgYXQgbGVhc3QhIiArIGNvbG9ycy5MaWdodEdyZWVuKQoJCXRpbWUuc2xlZXAoMSkKCQlfbmFtZV8gPSBpbnB1dCgiTmFtZTp+JCAiKS5sb3dlcigpCglfdmFyaWFiZWxfX1siX25hbWVfIl0gPSBzdHIoX25hbWVfKQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfTmlja18iXSA9IGlucHV0KCJOaWNrIE5hbWU6fiQgIikubG93ZXIoKQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfc3VybmFtZV8iXSA9IGlucHV0KCJTdXJuYW1lOn4kICIpLmxvd2VyKCkKCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdl8gPSBpbnB1dCgiQmlydGhkYXRlOn4kICIpLmxvd2VyKCkKCXdoaWxlIGxlbihfdl8pICE9IDAgYW5kIGxlbihfdl8pICE9IDg6CgkJb3Muc3lzdGVtKCJjbGVhciIpCgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlstXSBZb3UgbXVzdCBlbnRlciA4IGRpZ2l0cyBmb3IgYmlydGhkYXkhIiArIGNvbG9ycy5MaWdodEdyZWVuKQoJCXRpbWUuc2xlZXAoMSkKCQlfdl8gPSBpbnB1dCgiQmlydGhkYXRlOn4kICIpLmxvd2VyKCkKCV92YXJpYWJlbF9fWyJfdl8iXSA9IHN0cihfdl8pCgojaW5wdXRbUGFydG5lcnNdCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9wYXJ0bmVyc19fIl0gPSBpbnB1dCgiUGFydG5lcnMgTmFtZTp+JCAiKS5sb3dlcigpCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX19OaWNrcGFydG5lcnNfXyJdID0gaW5wdXQoIlBhcnRuZXJzIE5pY2tuYW1lOn4kICIpLmxvd2VyKCkKCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfX19fQmlydGhkYXRlcGFydG5lcnNfXyA9IGlucHV0KCJQYXJ0bmVycyBCaXJ0aGRhdGU6fiQgIikubG93ZXIoKQoJd2hpbGUgbGVuKF9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fKSAhPSAwIGFuZCBsZW4oX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18pICE9IDg6CgkJb3Muc3lzdGVtKCJjbGVhciIpCgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlstXSBZb3UgbXVzdCBlbnRlciA4IGRpZ2l0cyBmb3IgYmlydGhkYXkhIiArIGNvbG9ycy5MaWdodEdyZWVuKQoJCV9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fID0gaW5wdXQoIlBhcnRuZXJzIEJpcnRoZGF0ZTp+JCAiKS5sb3dlcigpCglfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18iXSA9IHN0cihfX19fQmlydGhkYXRlcGFydG5lcnNfXykKCiNJbnB1dFtDaGlsZCdzXQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX19fX19raWQiXSA9IGlucHV0KCJDaGlsZCdzIE5hbWU6fiQgIikubG93ZXIoKQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX19fbmlja2lkXyJdID0gaW5wdXQoIkNoaWxkJ3MgTmlja25hbWU6fiQgIikubG93ZXIoKQoKCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfX19fQmlydGhkYXRla2lkX18gPSBpbnB1dCgiQ2hpbGQncyBCaXJ0aGRhdGU6fiQgIikKCXdoaWxlIGxlbihfX19fQmlydGhkYXRla2lkX18pICE9IDAgYW5kIGxlbihfX19fQmlydGhkYXRla2lkX18pICE9IDg6CgkJb3Muc3lzdGVtKCJjbGVhciIpCgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlstXSBZb3UgbXVzdCBlbnRlciA4IGRpZ2l0cyBmb3IgYmlydGhkYXkhIiArIGNvbG9ycy5MaWdodEdyZWVuKQoJCV9fX19CaXJ0aGRhdGVraWRfXyA9IGlucHV0KCJDaGlsZCdzIEJpcnRoZGF0ZTp+JCAiKQoJX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdID0gc3RyKF9fX19CaXJ0aGRhdGVraWRfXykKCiNJbnB1dFtQZXQnc10KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19wZXRfIl0gPSBpbnB1dCgiUGV0J3MgTmFtZTp+JCAiKS5sb3dlcigpCgojSW5wdXRbY29tcGFueV0KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19jb21wYW55XyJdID0gaW5wdXQoImNvbXBhbnkgTmFtZTp+JCAiKQoKI0lucHV0W3dvcmRzXQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX193b3Jkc18iXSA9IFsiIl0KCXdvcmRzX19fID0gaW5wdXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgICJBcGFrYWggQW5kYSBpbmdpbiBUYW1iYWhrYW4ga2F0YSBrdW5jaSA/IFkvW05dOiAiKQoJd29yZHNfX19fID0gIiIKCglpZiB3b3Jkc19fXyA9PSAneScgb3Igd29yZHNfX18gPT0gJ1knOgoJCW9zLnN5c3RlbSgiY2xlYXIiKQoJCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgkJdGltZS5zbGVlcCgxKQoJCXdvcmRzX19fXyA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICArICAiUGxlYXNlIGVudGVyIHRoZSB3b3JkcyA6ICIpLnJlcGxhY2UoIiAiLCAiIikKCV92YXJpYWJlbF9fWyJfX193b3Jkc18iXSA9IHdvcmRzX19fXy5zcGxpdCgiLCIpCgojSW5wdXRbc3BlY2lhbGNoYXJdCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX3NwZWNoYXJzXyJdID0gaW5wdXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgICJrYXJha3RlciBraHVzdXMgZGkgYWtoaXIga2F0YSA/IFkvW05dOiAiKS5sb3dlcigpCgojSW5wdXRbUmFuZG9tIE51bWJlcl0KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19fcmFuZG9tX19fIl0gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiAgKyAgIlRhbWJhaGthbiBBbmdrYSBBY2FrIERpIEFraGlyIEthdGEgPyBZL1tOXTogIikubG93ZXIoKQoKI0lucHV0W0xlZXQgTW9kZV0KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19fX21vZGUiXSA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICArICAiTGVldCBtb2RlPyBZL1tOXTogIikubG93ZXIoKQoKCV9fX19fX19fX19fX19HZW5lcmF0ZV9fX18oX3ZhcmlhYmVsX18pCgoKI1tHZW5lcmF0ZV0gUGFzc3dvcmQgQmFzaXMgS2FtdXMgCmRlZiBtYWtlX2xlZXQoeCk6CiAgICAiIiJjb252ZXJ0IHN0cmluZyB0byBsZWV0IiIiCiAgICBmb3IgbGV0dGVyLCBsZWV0bGV0dGVyIGluIF9fX19fX19vcHRpb25bIl9fX19fRVRUIl0uaXRlbXMoKToKICAgICAgICB4ID0geC5yZXBsYWNlKGxldHRlciwgbGVldGxldHRlcikKICAgIHJldHVybiB4CgoKIyBmb3IgY29uY2F0ZW5hdGlvbnMuLi4KZGVmIGNvbmNhdHMoc2VxLCBzdGFydCwgc3RvcCk6CiAgICBmb3IgbXlzdHIgaW4gc2VxOgogICAgICAgIGZvciBudW0gaW4gcmFuZ2Uoc3RhcnQsIHN0b3ApOgogICAgICAgICAgICB5aWVsZCBteXN0ciArIHN0cihudW0pCgoKIyBmb3Igc29ydGluZyBhbmQgbWFraW5nIGNvbWJpbmF0aW9ucy4uLgpkZWYgSGFja2Vya29ueChzZXEsIHN0YXJ0LCBzcGVjaWFsPSIiKToKICAgIGZvciBteXN0ciBpbiBzZXE6CiAgICAgICAgZm9yIG15c3RyMSBpbiBzdGFydDoKICAgICAgICAgICAgeWllbGQgbXlzdHIgKyBzcGVjaWFsICsgbXlzdHIxCgpkZWYgX3BpbnRhcygpOgogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKICAgIGZpbGVuYW1lXyA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIkVudGVyW1dvcmxkbGlzdF06fiQgIikKICAgIGlmIChmaWxlbmFtZV8uZmluZCgndHh0JykgIT0gLTEpOgogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBmID0gb3BlbihmaWxlbmFtZV8sICJyIikKICAgICAgICBsaW5lcyA9IDAKICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICBsaW5lcyArPSAxCiAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgX25vX19fID0gc3RyKGxpbmVzKQogICAgICAgIF9fX2F0dGFjayhmaWxlbmFtZV8sX25vX19fKSAgICAgIAogICAgZWxzZToKICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQogICAgICAgIHN0cmxpcCA9ICggZmlsZW5hbWVfICsgIi50eHQiKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICBmID0gb3BlbihzdHJsaXAsICJyIikKICAgICAgICBsaW5lcyA9IDAKICAgICAgICBmb3IgbGluZSBpbiBmOgogICAgICAgICAgICBsaW5lcyArPSAxCiAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgX25vX19fID0gc3RyKGxpbmVzKQogICAgICAgIF9fX2F0dGFjayhzdHJsaXAsX25vX19fKSAgICAgICAgICAgICAgCiAgICAgICAgCgoKI1tHZW5lcmF0ZV0gUGFzc3dvcmQgQmFzaXMgS2FtdXMgCmRlZiBfX1N0YXJ0aW5nXygpOgoKCWZ1bmN0aW9uKG9zLnBhdGguam9pbihvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5yZWFscGF0aChfX2ZpbGVfXykpLCAiY29uZmlndXJhdGlvbi5jZmciKSkKCglfc3RyXyA9IEZhbHNlCgoJaWYgX3N0cl8gPT0gRmFsc2U6CgkJX19fTG9hZGluZ18oKQoKI29wdGlvbiBBdHRhY2sgUmFuZG9tIEZhY2Vib29rCgpkZWYgX19fYXR0YWNrKGZpbGVuYW1lLF9ub19fXyk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIF9fX29wZW4gPSBvcGVuKGZpbGVuYW1lLCdyJykKICAgIF9uID0gMAogICAgX3hfX19fX19fX19fID0gMAogICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQogICAgdGltZS5zbGVlcCgxKQogICAgdV9fX19fX19fID0gaW5wdXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiVGFyZ2V0W0lEXTp+JCAiKSAKICAgIHRpbWUuc2xlZXAoMSkKICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgX19fX19fX19fZXhwbG9pdGJhbm5lcigpCiAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdGQk0tMTM0IDogJyArIF92ZXJzaW9uKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnQUNDT1VOVCA6ICcgKyB1X19fX19fX18gKyAnLScpCiAgICB0aW1lLnNsZWVwKDEpCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIF9fX19fX19fX2V4cGxvaXRiYW5uZXIoKQogICAgX19fX19fX19fX19XRUJfX19fX19fX19fX19fX19fID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi5waHAiCiAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdGQk0tMTM0IDogJyArIF92ZXJzaW9uKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnQUNDT1VOVCA6ICcgKyB1X19fX19fX18gKyAnLScgKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRSZWQgKyAnU0VMRVNBSSA6ICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJJTiBUSU1FICVzIiAgJXRpbWUuc3RyZnRpbWUoIiVYIikpCiAgICBmb3IgeCBpbiBfX19vcGVuOgogICAgICAgIF9uICs9IDEKICAgICAgICBfeF9fX19fX19fX18gKz0gMQogICAgICAgIGxvcF8gPSB4LnN0cmlwKCkKICAgICAgICBfX19fX19fX19fX0R0XyA9IHsnZW1haWwnOiB1X19fX19fX18sJ3Bhc3MnOiBsb3BfLCdsb2dpbic6J01hc3VrJ30KICAgICAgICBfX19fX19fX19fX2ZyXyA9IHJlcXVlc3RzLnBvc3QoX19fX19fX19fX19XRUJfX19fX19fX19fX19fX19fLCBfX19fX19fX19fX0R0XykKICAgICAgICByZXNwb25zZXggPSBfX19fX19fX19fX2ZyXy51cmwKICAgICAgICByZXNwb25zZSA9IF9fX19fX19fX19fZnJfLnRleHQKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdccicgKyBjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FUVEVNUFQgOiBbJysgY29sb3JzLkxpZ2h0UmVkICsgc3RyKF9uKSArIGNvbG9ycy5MaWdodEdyZWVuICsgJzonICsgX25vX19fICsgJ10nKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMSkKICAgICAgICAKICAgICAgICBpZiBfeF9fX19fX19fX18gPT0gNjU6CiAgICAgICAgICAgIF94X19fX19fX19fXyA9IDAKICAgIAogICAgICAgIGlmIChyZXNwb25zZS5maW5kKCdLYW1pIG1lbWJhdGFzaSBzZWJlcmFwYSBzZXJpbmcgQW5kYSBkYXBhdCBtZW1wb3N0aW5nJykgIT0gLTEpOgogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0ZCTS0xMzQgOiAnICsgX3ZlcnNpb24pCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgdV9fX19fX19fICsgJy0nICkKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRSZWQgKyAnU0VMRVNBSSA6ICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJJTiAxIEhPVVIgMjAgTUlOVVRFUyIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnQVRURU1QVCA6IFsnKyBjb2xvcnMuTGlnaHRSZWQgKyBzdHIoX24pICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnOicgKyBfbm9fX18gKyAnXScpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCAgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRZZWxsb3cgKyAiV0FSTklORyA6ICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJCTE9DSyBBVFRBQ0shIikKICAgICAgICAgICAgdGltZS5zbGVlcCg0ODAwKQogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0ZCTS0xMzQgOiAnICsgX3ZlcnNpb24pCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgdV9fX19fX19fICsgJy0nICkKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRSZWQgKyAnU0VMRVNBSSA6ICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJJTiBUSU1FICVzIiAgJXRpbWUuc3RyZnRpbWUoIiVYIikpCgoKICAgICAgICBpZiByZXNwb25zZXguZmluZCgiaG9tZS5waHAiKSAhPSAtMToKICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICAgICAgICAgIF9fX19fX19fX19fX19iYW5uZXIoKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdGQk0tMTM0IDogJyArIF92ZXJzaW9uKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRZZWxsb3cgKyAnQUNDT1VOVCA6ICcgKyBjb2xvcnMuQmx1ZSArICJbIiArIGNvbG9ycy5MaWdodEJsdWUgKyAiRk9VTkQiICsgY29sb3JzLkJsdWUgKyAiXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyB1X19fX19fX18gKyAnLScgKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRZZWxsb3cgICsgIkFUVEVNUFQgOiIgKyBjb2xvcnMuQmx1ZSArIiBbIiArIGNvbG9ycy5MaWdodEJsdWUgKyJGT1VORCIgKyBjb2xvcnMuQmx1ZSArICJdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIGxvcF8gKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGJyZWFrCgoKCiNzdGFydAppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgoJX19TdGFydGluZ18oKQo=
"""

exec(b64decode(GenerateFile))