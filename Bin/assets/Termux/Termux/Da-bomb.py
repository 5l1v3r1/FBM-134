#!/usr/bin/python3
from base64 import b64decode

GenerateFile = """
aW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwppbXBvcnQgc29ja2V0CmltcG9ydCB0aW1lCmltcG9ydCBhcmdwYXJzZSAKaW1wb3J0IGl0ZXJ0b29scwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCBzeXMKaW1wb3J0IGZ1bmN0b29scwppbXBvcnQgY29uZmlncGFyc2VyCmltcG9ydCB1cmxsaWIuZXJyb3IKaW1wb3J0IHVybGxpYi5wYXJzZQppbXBvcnQgdXJsbGliLnJlcXVlc3QKaW1wb3J0IGNzdgppbXBvcnQgZ3ppcApmcm9tIHJhbmRvbSBpbXBvcnQgY2hvaWNlCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCm5vdyA9IGRhdGV0aW1lLm5vdygpCgojW3ZhcmlhYmVsXSBUZWFtIApfVGVhbV9fXyA9ICJDeWJlci1TZWN1cml0eS1EZXYiCl92ZXJzaW9uID0gInYxLjAuMjAyMC1kZXYtIgoKX19fX19fX29wdGlvbiA9IHt9CgojY2xhc3MgS3VtcHVsYW4gY29uc3QKY2xhc3MgY29uc3QoKToKCVJlc2V0QWxsID0gIlwwMzNbMG0iCglEaW0gICAgICAgID0gIlwwMzNbMm0iCglCb2xkICAgICAgID0gIlwwMzNbMW0iCglVbmRlcmxpbmVkID0gIlwwMzNbNG0iCglCbGluayAgICAgID0gIlwwMzNbNW0iCglSZXZlcnNlICAgID0gIlwwMzNbN20iCglIaWRkZW4gICAgID0gIlwwMzNbOG0iCgoJUmVzZXRCb2xkICAgICAgID0gIlwwMzNbMjFtIgoJUmVzZXREaW0gICAgICAgID0gIlwwMzNbMjJtIgoJUmVzZXRVbmRlcmxpbmVkID0gIlwwMzNbMjRtIgoJUmVzZXRCbGluayAgICAgID0gIlwwMzNbMjVtIgoJUmVzZXRSZXZlcnNlICAgID0gIlwwMzNbMjdtIgoJUmVzZXRIaWRkZW4gICAgID0gIlwwMzNbMjhtIgoKCmRlZiBfX19fX19fX19fX19fYmFubmVyKCk6CiAgICBudW1MaXN0ID0gWyJCYW5uZXIvVGVybXV4L2Jhbm5lcjAxLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAyLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAzLnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjA0LnR4dCIsICJCYW5uZXIvVGVybXV4L2Jhbm5lcjA1LnR4dCIsIkJhbm5lci9UZXJtdXgvYmFubmVyMDYudHh0Iiwiem9uay1HZW5lcmF0ZSJdCiAgICBmb3IgeCBpbiByYW5nZSgxKToKICAgICAgICBmaWxlX19fX19fX19fX2Jhbm5lciA9IGNob2ljZShudW1MaXN0KQogICAgICAgIGlmIGZpbGVfX19fX19fX19fYmFubmVyID09ICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAxLnR4dCI6CiAgICAgICAgICAgIGZpbGVCYW5uZXJfID0gb3BlbihmaWxlX19fX19fX19fX2Jhbm5lcikKICAgICAgICAgICAgcHJpbnQoJyAnKQogICAgICAgICAgICBwcmludChjb25zdC5SZXNldERpbSArIGNvbG9ycy5MaWdodEJsdWUgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDIudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0UmVkICsgZmlsZUJhbm5lcl8ucmVhZCgpICsgY29sb3JzLkdyZWVuKQogICAgICAgICAgICBmaWxlQmFubmVyXy5jbG9zZSgpCiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbGlmIGZpbGVfX19fX19fX19fYmFubmVyID09ICJCYW5uZXIvVGVybXV4L2Jhbm5lcjAzLnR4dCI6CiAgICAgICAgICAgIGZpbGVCYW5uZXJfID0gb3BlbihmaWxlX19fX19fX19fX2Jhbm5lcikKICAgICAgICAgICAgcHJpbnQoJyAnKQogICAgICAgICAgICBwcmludChjb25zdC5SZXNldERpbSArIGNvbG9ycy5MaWdodEJsdWUgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDQudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0TWFnZW50YSArIGZpbGVCYW5uZXJfLnJlYWQoKSArIGNvbG9ycy5HcmVlbikKICAgICAgICAgICAgZmlsZUJhbm5lcl8uY2xvc2UoKQogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBmaWxlX19fX19fX19fX2Jhbm5lciA9PSAiQmFubmVyL1Rlcm11eC9iYW5uZXIwNS50eHQiOgogICAgICAgICAgICBmaWxlQmFubmVyXyA9IG9wZW4oZmlsZV9fX19fX19fX19iYW5uZXIpCiAgICAgICAgICAgIHByaW50KCcgJykKICAgICAgICAgICAgcHJpbnQoY29uc3QuUmVzZXREaW0gKyBjb2xvcnMuTGlnaHRSZWQgKyBmaWxlQmFubmVyXy5yZWFkKCkgKyBjb2xvcnMuR3JlZW4pCiAgICAgICAgICAgIGZpbGVCYW5uZXJfLmNsb3NlKCkKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsaWYgZmlsZV9fX19fX19fX19iYW5uZXIgPT0gIkJhbm5lci9UZXJtdXgvYmFubmVyMDYudHh0IjoKICAgICAgICAgICAgZmlsZUJhbm5lcl8gPSBvcGVuKGZpbGVfX19fX19fX19fYmFubmVyKQogICAgICAgICAgICBwcmludCgnICcpCiAgICAgICAgICAgIHByaW50KGNvbnN0LlJlc2V0RGltICsgY29sb3JzLkxpZ2h0R3JheSArIGZpbGVCYW5uZXJfLnJlYWQoKSArIGNvbG9ycy5HcmVlbikKICAgICAgICAgICAgZmlsZUJhbm5lcl8uY2xvc2UoKQogICAgICAgICAgICBwYXNzCiAgICAgICAgZWxpZiBmaWxlX19fX19fX19fX2Jhbm5lciA9PSAiem9uay1HZW5lcmF0ZSI6CiAgICAgICAgICAgIHByaW50KGNvbG9ycy5XaGl0ZSArICIgID4gQXR0YWNrZXIiKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRHcmVlbiArICIgIFRlY2huaXF1ZTogQlJVVEUgRk9SQ0UuIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICA+IENvbXByb21pc2VkIENyZWRlbnRpYWxzIikgCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRHcmVlbiArICIgID4gQm90bmV0IikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICBUZWNobmlxdWU6IEJSVVRFIEZPUkNFLiIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBWaWN0aW0gU2l0ZSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgICAgIHByaW50KCIiKQogICAgICAgICAgICBwYXNzCgpkZWYgX19fX19fX19fZXhwbG9pdGJhbm5lcigpOgogICAgICAgIHByaW50KGNvbG9ycy5XaGl0ZSArICIgID4gQXR0YWNrZXIiKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBDb21wcm9taXNlZCBDcmVkZW50aWFscyIpIAogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBCb3RuZXQiKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgVGVjaG5pcXVlOiBCUlVURSBGT1JDRS4iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodEdyZWVuICsgIiAgPiBWaWN0aW0gU2l0ZSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0R3JlZW4gKyAiICBUZWNobmlxdWU6IEJSVVRFIEZPUkNFLiIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICIgIFRIRVJFIElTIE5PIFNBRkUgU1lTVEVNIikKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiICBUSEVSRSBJUyBOTyBTQUZFIFNZU1RFTSIpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIiAgVEhFUkUgSVMgTk8gU0FGRSBTWVNURU0iKQogICAgICAgIHByaW50KCIiKQogICAgICAgIHBhc3MKCgojW0dlbmVyYXRlXQpkZWYgX19fX19fX19fX19fX0dlbmVyYXRlX19fXyhfdmFyaWFiZWxfXyk6CgogICAgY2hhcnNfXyA9IF9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdWyJfX19fX19fX2NoYXJzIl0KICAgIHllYXJzX18gPSBfX19fX19fb3B0aW9uWyJfX19fX19fX19nbG9iYWwiXVsiX19fX19fX195ZWFycyJdCiAgICBmcm9tc19fID0gX19fX19fX29wdGlvblsiX19fX19fX19fZ2xvYmFsIl1bIl9fX19fX19fbnVtZnIiXQogICAgbnVtdG9fXyA9IF9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdWyJfX19fX19fX251bXRvIl0KIAogICAgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0gPSBbXQoKICAgIGlmCV92YXJpYWJlbF9fWyJfX19zcGVjaGFyc18iXSA9PSAnWScgb3IgX3ZhcmlhYmVsX19bIl9fX3NwZWNoYXJzXyJdID09ICJ5IjoKICAgIAlmb3IgX194X19fIGluIGNoYXJzX186CiAgICAJCV92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdLmFwcGVuZChfX3hfX18pCiAgICAJCWZvciBfeF9fIGluIGNoYXJzX186CiAgICAJCQlfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXS5hcHBlbmQoX194X19fICsgX3hfXykKICAgIAkJCWZvciBfeF8gaW4gY2hhcnNfXzoKICAgIAkJCQlfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXS5hcHBlbmQoX194X19fICsgX3hfXyArIF94XykKCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiTm93IENyZWF0ZSBBIERpY3Rpb25hcnkgUGFzc3dvcmQgQmFzZSAuLi4gIikKICAgIHRpbWUuc2xlZXAoMSkKCiAgICAjW11maXJzdAoKICAgIF9fQiA9IF92YXJpYWJlbF9fWyJfdl8iXVstMjpdCiAgICBfX1UgPSBfdmFyaWFiZWxfX1siX3ZfIl1bLTM6XQogICAgX19ZID0gX3ZhcmlhYmVsX19bIl92XyJdWy00Ol0KICAgIF9feCA9IF92YXJpYWJlbF9fWyJfdl8iXVsxOjJdCiAgICBfX0cgPSBfdmFyaWFiZWxfX1siX3ZfIl1bMzo0XQogICAgX19DID0gX3ZhcmlhYmVsX19bIl92XyJdWzoyXQogICAgX19FID0gX3ZhcmlhYmVsX19bIl92XyJdWzI6NF0KCiAgICAjW10gcGFydG5lcnMKCiAgICB3aWZlYl95eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdWy0yOl0KICAgIHdpZmViX3l5eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdWy0zOl0KICAgIHdpZmViX3l5eXkgPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18iXVstNDpdCiAgICB3aWZlYl94ZCA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdWzE6Ml0KICAgIHdpZmViX3htID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fIl1bMzo0XQogICAgd2lmZWJfZGQgPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18iXVs6Ml0KICAgIHdpZmViX21tID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fIl1bMjo0XQoKICAgICNbQmlydGRheXNdIENoaWxkCgogICAga2lkYl95eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRla2lkX18iXVstMjpdCiAgICBraWRiX3l5eSA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRla2lkX18iXVstMzpdCiAgICBraWRiX3l5eXkgPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZWtpZF9fIl1bLTQ6XQogICAga2lkYl94ZCA9IF92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRla2lkX18iXVsxOjJdCiAgICBraWRiX3htID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdWzM6NF0KICAgIGtpZGJfZGQgPSBfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZWtpZF9fIl1bOjJdCiAgICBraWRiX21tID0gX3ZhcmlhYmVsX19bIl9fX19CaXJ0aGRhdGVraWRfXyJdWzI6NF0KCiAgICAjW0NvbnZlcnRdIGZpcnN0IGxldHRlcnMgdG8gdXBwZXJjYXNlLi4uCgogICAgbmFtZXVwID0gX3ZhcmlhYmVsX19bIl9uYW1lXyJdLnRpdGxlKCkKICAgIHN1cm5hbWV1cCA9IF92YXJpYWJlbF9fWyJfc3VybmFtZV8iXS50aXRsZSgpCiAgICBuaWNrdXAgPSBfdmFyaWFiZWxfX1siX05pY2tfIl0udGl0bGUoKQogICAgd2lmZXVwID0gX3ZhcmlhYmVsX19bIl9wYXJ0bmVyc19fIl0udGl0bGUoKQogICAgd2lmZW51cCA9IF92YXJpYWJlbF9fWyJfX19fTmlja3BhcnRuZXJzX18iXS50aXRsZSgpCiAgICBraWR1cCA9IF92YXJpYWJlbF9fWyJfX19fX19raWQiXS50aXRsZSgpCiAgICBraWRudXAgPSBfdmFyaWFiZWxfX1siX19fX25pY2tpZF8iXS50aXRsZSgpCiAgICBwZXR1cCA9IF92YXJpYWJlbF9fWyJfX3BldF8iXS50aXRsZSgpCiAgICBjb21wYW55dXAgPSBfdmFyaWFiZWxfX1siX19jb21wYW55XyJdLnRpdGxlKCkKCgogICAgd29yZHN1cCA9IFtdCiAgICB3b3Jkc3VwID0gbGlzdChtYXAoc3RyLnRpdGxlLCBfdmFyaWFiZWxfX1siX19fd29yZHNfIl0pKQoKICAgIHdvcmQgPSBfdmFyaWFiZWxfX1siX19fd29yZHNfIl0gKyB3b3Jkc3VwCgogICAgIyByZXZlcnNlIGEgbmFtZQoKICAgIHJldl9uYW1lID0gX3ZhcmlhYmVsX19bIl9uYW1lXyJdWzo6LTFdCiAgICByZXZfbmFtZXVwID0gbmFtZXVwWzo6LTFdCiAgICByZXZfbmljayA9IF92YXJpYWJlbF9fWyJfTmlja18iXVs6Oi0xXQogICAgcmV2X25pY2t1cCA9IG5pY2t1cFs6Oi0xXQogICAgcmV2X3dpZmUgPSBfdmFyaWFiZWxfX1siX3BhcnRuZXJzX18iXVs6Oi0xXQogICAgcmV2X3dpZmV1cCA9IHdpZmV1cFs6Oi0xXQogICAgcmV2X2tpZCA9IF92YXJpYWJlbF9fWyJfX19fX19raWQiXVs6Oi0xXQogICAgcmV2X2tpZHVwID0ga2lkdXBbOjotMV0KCiAgICByZXZlcnNlID0gWwogICAgICAgIHJldl9uYW1lLAogICAgICAgIHJldl9uYW1ldXAsCiAgICAgICAgcmV2X25pY2ssCiAgICAgICAgcmV2X25pY2t1cCwKICAgICAgICByZXZfd2lmZSwKICAgICAgICByZXZfd2lmZXVwLAogICAgICAgIHJldl9raWQsCiAgICAgICAgcmV2X2tpZHVwLAogICAgXQogICAgcmV2X24gPSBbcmV2X25hbWUsIHJldl9uYW1ldXAsIHJldl9uaWNrLCByZXZfbmlja3VwXQogICAgcmV2X3cgPSBbcmV2X3dpZmUsIHJldl93aWZldXBdCiAgICByZXZfayA9IFtyZXZfa2lkLCByZXZfa2lkdXBdCiAgICAjIExldCdzIGRvIHNvbWUgc2VyaW91cyB3b3JrISBUaGlzIHdpbGwgYmUgYSBtZXNzIG9mIGNvZGUsIGJ1dC4uLiB3aG8gY2FyZXM/IDopCgogICAgIyBCaXJ0aGRheXMgY29tYmluYXRpb25zCgogICAgYmRzID0gWwogICAgICAgIF9fQiwKICAgICAgICBfX1UsCiAgICAgICAgX19ZLAogICAgICAgIF9feCwKICAgICAgICBfX0csCiAgICAgICAgX19DLAogICAgICAgIF9fRSwKICAgIF0KCiAgICBiZHNzID0gW10KCiAgICBmb3IgYmRzMSBpbiBiZHM6CiAgICAgICAgYmRzcy5hcHBlbmQoYmRzMSkKICAgICAgICBmb3IgYmRzMiBpbiBiZHM6CiAgICAgICAgICAgIGlmIGJkcy5pbmRleChiZHMxKSAhPSBiZHMuaW5kZXgoYmRzMik6CiAgICAgICAgICAgICAgICBiZHNzLmFwcGVuZChiZHMxICsgYmRzMikKICAgICAgICAgICAgICAgIGZvciBiZHMzIGluIGJkczoKICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgIGJkcy5pbmRleChiZHMxKSAhPSBiZHMuaW5kZXgoYmRzMikKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGJkcy5pbmRleChiZHMyKSAhPSBiZHMuaW5kZXgoYmRzMykKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGJkcy5pbmRleChiZHMxKSAhPSBiZHMuaW5kZXgoYmRzMykKICAgICAgICAgICAgICAgICAgICApOgogICAgICAgICAgICAgICAgICAgICAgICBiZHNzLmFwcGVuZChiZHMxICsgYmRzMiArIGJkczMpCgogICAgICAgICAgICAgICAgIyBGb3IgYSB3b21hbi4uLgogICAgd2JkcyA9IFt3aWZlYl95eSwgd2lmZWJfeXl5LCB3aWZlYl95eXl5LCB3aWZlYl94ZCwgd2lmZWJfeG0sIHdpZmViX2RkLCB3aWZlYl9tbV0KCiAgICB3YmRzcyA9IFtdCgogICAgZm9yIHdiZHMxIGluIHdiZHM6CiAgICAgICAgd2Jkc3MuYXBwZW5kKHdiZHMxKQogICAgICAgIGZvciB3YmRzMiBpbiB3YmRzOgogICAgICAgICAgICBpZiB3YmRzLmluZGV4KHdiZHMxKSAhPSB3YmRzLmluZGV4KHdiZHMyKToKICAgICAgICAgICAgICAgIHdiZHNzLmFwcGVuZCh3YmRzMSArIHdiZHMyKQogICAgICAgICAgICAgICAgZm9yIHdiZHMzIGluIHdiZHM6CiAgICAgICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgICAgICB3YmRzLmluZGV4KHdiZHMxKSAhPSB3YmRzLmluZGV4KHdiZHMyKQogICAgICAgICAgICAgICAgICAgICAgICBhbmQgd2Jkcy5pbmRleCh3YmRzMikgIT0gd2Jkcy5pbmRleCh3YmRzMykKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHdiZHMuaW5kZXgod2JkczEpICE9IHdiZHMuaW5kZXgod2JkczMpCiAgICAgICAgICAgICAgICAgICAgKToKICAgICAgICAgICAgICAgICAgICAgICAgd2Jkc3MuYXBwZW5kKHdiZHMxICsgd2JkczIgKyB3YmRzMykKCiAgICAgICAgICAgICAgICAjIGFuZCBhIGNoaWxkLi4uCiAgICBrYmRzID0gW2tpZGJfeXksIGtpZGJfeXl5LCBraWRiX3l5eXksIGtpZGJfeGQsIGtpZGJfeG0sIGtpZGJfZGQsIGtpZGJfbW1dCgogICAga2Jkc3MgPSBbXQoKICAgIGZvciBrYmRzMSBpbiBrYmRzOgogICAgICAgIGtiZHNzLmFwcGVuZChrYmRzMSkKICAgICAgICBmb3Iga2JkczIgaW4ga2JkczoKICAgICAgICAgICAgaWYga2Jkcy5pbmRleChrYmRzMSkgIT0ga2Jkcy5pbmRleChrYmRzMik6CiAgICAgICAgICAgICAgICBrYmRzcy5hcHBlbmQoa2JkczEgKyBrYmRzMikKICAgICAgICAgICAgICAgIGZvciBrYmRzMyBpbiBrYmRzOgogICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAga2Jkcy5pbmRleChrYmRzMSkgIT0ga2Jkcy5pbmRleChrYmRzMikKICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGtiZHMuaW5kZXgoa2JkczIpICE9IGtiZHMuaW5kZXgoa2JkczMpCiAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBrYmRzLmluZGV4KGtiZHMxKSAhPSBrYmRzLmluZGV4KGtiZHMzKQogICAgICAgICAgICAgICAgICAgICk6CiAgICAgICAgICAgICAgICAgICAgICAgIGtiZHNzLmFwcGVuZChrYmRzMSArIGtiZHMyICsga2JkczMpCgogICAgICAgICAgICAgICAgIyBzdHJpbmcgY29tYmluYXRpb25zLi4uLgoKICAgIGtvbWJpbmFhYyA9IFtfdmFyaWFiZWxfX1siX19wZXRfIl0sIHBldHVwLCBfdmFyaWFiZWxfX1siX19jb21wYW55XyJdLCBjb21wYW55dXBdCgogICAga29tYmluYSA9IFsKICAgICAgICBfdmFyaWFiZWxfX1siX25hbWVfIl0sCiAgICAgICAgX3ZhcmlhYmVsX19bIl9zdXJuYW1lXyJdLAogICAgICAgIF92YXJpYWJlbF9fWyJfTmlja18iXSwKICAgICAgICBuYW1ldXAsCiAgICAgICAgc3VybmFtZXVwLAogICAgICAgIG5pY2t1cCwKICAgIF0KCiAgICBrb21iaW5hdyA9IFsKICAgICAgICBfdmFyaWFiZWxfX1siX3BhcnRuZXJzX18iXSwKICAgICAgICBfdmFyaWFiZWxfX1siX19fX05pY2twYXJ0bmVyc19fIl0sCiAgICAgICAgd2lmZXVwLAogICAgICAgIHdpZmVudXAsCiAgICAgICAgX3ZhcmlhYmVsX19bIl9zdXJuYW1lXyJdLAogICAgICAgIHN1cm5hbWV1cCwKICAgIF0KCiAgICBrb21iaW5hayA9IFsKICAgICAgICBfdmFyaWFiZWxfX1siX19fX19fa2lkIl0sCiAgICAgICAgX3ZhcmlhYmVsX19bIl9fX19uaWNraWRfIl0sCiAgICAgICAga2lkdXAsCiAgICAgICAga2lkbnVwLAogICAgICAgIF92YXJpYWJlbF9fWyJfc3VybmFtZV8iXSwKICAgICAgICBzdXJuYW1ldXAsCiAgICBdCgogICAga29tYmluYWEgPSBbXQogICAgZm9yIGtvbWJpbmExIGluIGtvbWJpbmE6CiAgICAgICAga29tYmluYWEuYXBwZW5kKGtvbWJpbmExKQogICAgICAgIGZvciBrb21iaW5hMiBpbiBrb21iaW5hOgogICAgICAgICAgICBpZiBrb21iaW5hLmluZGV4KGtvbWJpbmExKSAhPSBrb21iaW5hLmluZGV4KGtvbWJpbmEyKSBhbmQga29tYmluYS5pbmRleCgKICAgICAgICAgICAgICAgIGtvbWJpbmExLnRpdGxlKCkKICAgICAgICAgICAgKSAhPSBrb21iaW5hLmluZGV4KGtvbWJpbmEyLnRpdGxlKCkpOgogICAgICAgICAgICAgICAga29tYmluYWEuYXBwZW5kKGtvbWJpbmExICsga29tYmluYTIpCgogICAga29tYmluYWF3ID0gW10KICAgIGZvciBrb21iaW5hMSBpbiBrb21iaW5hdzoKICAgICAgICBrb21iaW5hYXcuYXBwZW5kKGtvbWJpbmExKQogICAgICAgIGZvciBrb21iaW5hMiBpbiBrb21iaW5hdzoKICAgICAgICAgICAgaWYga29tYmluYXcuaW5kZXgoa29tYmluYTEpICE9IGtvbWJpbmF3LmluZGV4KGtvbWJpbmEyKSBhbmQga29tYmluYXcuaW5kZXgoCiAgICAgICAgICAgICAgICBrb21iaW5hMS50aXRsZSgpCiAgICAgICAgICAgICkgIT0ga29tYmluYXcuaW5kZXgoa29tYmluYTIudGl0bGUoKSk6CiAgICAgICAgICAgICAgICBrb21iaW5hYXcuYXBwZW5kKGtvbWJpbmExICsga29tYmluYTIpCgogICAga29tYmluYWFrID0gW10KICAgIGZvciBrb21iaW5hMSBpbiBrb21iaW5hazoKICAgICAgICBrb21iaW5hYWsuYXBwZW5kKGtvbWJpbmExKQogICAgICAgIGZvciBrb21iaW5hMiBpbiBrb21iaW5hazoKICAgICAgICAgICAgaWYga29tYmluYWsuaW5kZXgoa29tYmluYTEpICE9IGtvbWJpbmFrLmluZGV4KGtvbWJpbmEyKSBhbmQga29tYmluYWsuaW5kZXgoCiAgICAgICAgICAgICAgICBrb21iaW5hMS50aXRsZSgpCiAgICAgICAgICAgICkgIT0ga29tYmluYWsuaW5kZXgoa29tYmluYTIudGl0bGUoKSk6CiAgICAgICAgICAgICAgICBrb21iaW5hYWsuYXBwZW5kKGtvbWJpbmExICsga29tYmluYTIpCgogICAga29tYmkgPSB7fQogICAga29tYmlbMV0gPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWEsIGJkc3MpKQogICAga29tYmlbMV0gKz0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhLCBiZHNzLCAiXyIpKQogICAga29tYmlbMl0gPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWF3LCB3YmRzcykpCiAgICBrb21iaVsyXSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWF3LCB3YmRzcywgIl8iKSkKICAgIGtvbWJpWzNdID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhaywga2Jkc3MpKQogICAga29tYmlbM10gKz0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhaywga2Jkc3MsICJfIikpCiAgICBrb21iaVs0XSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYSwgeWVhcnNfXykpCiAgICBrb21iaVs0XSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWEsIHllYXJzX18sICJfIikpCiAgICBrb21iaVs1XSA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYWMsIHllYXJzX18pKQogICAga29tYmlbNV0gKz0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhYywgeWVhcnNfXywgIl8iKSkKICAgIGtvbWJpWzZdID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhdywgeWVhcnNfXykpCiAgICBrb21iaVs2XSArPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWF3LCB5ZWFyc19fLCAiXyIpKQogICAga29tYmlbN10gPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWFrLCB5ZWFyc19fKSkKICAgIGtvbWJpWzddICs9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYWssIHllYXJzX18sICJfIikpCiAgICBrb21iaVs4XSA9IGxpc3QoSGFja2Vya29ueCh3b3JkLCBiZHNzKSkKICAgIGtvbWJpWzhdICs9IGxpc3QoSGFja2Vya29ueCh3b3JkLCBiZHNzLCAiXyIpKQogICAga29tYmlbOV0gPSBsaXN0KEhhY2tlcmtvbngod29yZCwgd2Jkc3MpKQogICAga29tYmlbOV0gKz0gbGlzdChIYWNrZXJrb254KHdvcmQsIHdiZHNzLCAiXyIpKQogICAga29tYmlbMTBdID0gbGlzdChIYWNrZXJrb254KHdvcmQsIGtiZHNzKSkKICAgIGtvbWJpWzEwXSArPSBsaXN0KEhhY2tlcmtvbngod29yZCwga2Jkc3MsICJfIikpCiAgICBrb21iaVsxMV0gPSBsaXN0KEhhY2tlcmtvbngod29yZCwgeWVhcnNfXykpCiAgICBrb21iaVsxMV0gKz0gbGlzdChIYWNrZXJrb254KHdvcmQsIHllYXJzX18sICJfIikpCiAgICBrb21iaVsxMl0gPSBbIiJdCiAgICBrb21iaVsxM10gPSBbIiJdCiAgICBrb21iaVsxNF0gPSBbIiJdCiAgICBrb21iaVsxNV0gPSBbIiJdCiAgICBrb21iaVsxNl0gPSBbIiJdCiAgICBrb21iaVsyMV0gPSBbIiJdCiAgICBpZiBfdmFyaWFiZWxfX1siX19fcmFuZG9tX19fIl0gPT0gInkiIG9yIF92YXJpYWJlbF9fWyJfX19yYW5kb21fX18iXSA9PSAiWSI6CiAgICAgICAga29tYmlbMTJdID0gbGlzdChjb25jYXRzKHdvcmQsIGZyb21zX18sIG51bXRvX18pKQogICAgICAgIGtvbWJpWzEzXSA9IGxpc3QoY29uY2F0cyhrb21iaW5hYSwgZnJvbXNfXywgbnVtdG9fXykpCiAgICAgICAga29tYmlbMTRdID0gbGlzdChjb25jYXRzKGtvbWJpbmFhYywgZnJvbXNfXywgbnVtdG9fXykpCiAgICAgICAga29tYmlbMTVdID0gbGlzdChjb25jYXRzKGtvbWJpbmFhdywgZnJvbXNfXywgbnVtdG9fXykpCiAgICAgICAga29tYmlbMTZdID0gbGlzdChjb25jYXRzKGtvbWJpbmFhaywgZnJvbXNfXywgbnVtdG9fXykpCiAgICAgICAga29tYmlbMjFdID0gbGlzdChjb25jYXRzKHJldmVyc2UsIGZyb21zX18sIG51bXRvX18pKQogICAga29tYmlbMTddID0gbGlzdChIYWNrZXJrb254KHJldmVyc2UsIHllYXJzX18pKQogICAga29tYmlbMTddICs9IGxpc3QoSGFja2Vya29ueChyZXZlcnNlLCB5ZWFyc19fLCAiXyIpKQogICAga29tYmlbMThdID0gbGlzdChIYWNrZXJrb254KHJldl93LCB3YmRzcykpCiAgICBrb21iaVsxOF0gKz0gbGlzdChIYWNrZXJrb254KHJldl93LCB3YmRzcywgIl8iKSkKICAgIGtvbWJpWzE5XSA9IGxpc3QoSGFja2Vya29ueChyZXZfaywga2Jkc3MpKQogICAga29tYmlbMTldICs9IGxpc3QoSGFja2Vya29ueChyZXZfaywga2Jkc3MsICJfIikpCiAgICBrb21iaVsyMF0gPSBsaXN0KEhhY2tlcmtvbngocmV2X24sIGJkc3MpKQogICAga29tYmlbMjBdICs9IGxpc3QoSGFja2Vya29ueChyZXZfbiwgYmRzcywgIl8iKSkKICAgIGtvbWIwMDEgPSBbIiJdCiAgICBrb21iMDAyID0gWyIiXQogICAga29tYjAwMyA9IFsiIl0KICAgIGtvbWIwMDQgPSBbIiJdCiAgICBrb21iMDA1ID0gWyIiXQogICAga29tYjAwNiA9IFsiIl0KICAgIGlmIGxlbihfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXSkgPiAwOgogICAgICAgIGtvbWIwMDEgPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWEsIF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSkKICAgICAgICBrb21iMDAyID0gbGlzdChIYWNrZXJrb254KGtvbWJpbmFhYywgX3ZhcmlhYmVsX19bInNwZWNpYWxjaGFyX19fX19fIl0pKQogICAgICAgIGtvbWIwMDMgPSBsaXN0KEhhY2tlcmtvbngoa29tYmluYWF3LCBfdmFyaWFiZWxfX1sic3BlY2lhbGNoYXJfX19fX18iXSkpCiAgICAgICAga29tYjAwNCA9IGxpc3QoSGFja2Vya29ueChrb21iaW5hYWssIF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSkKICAgICAgICBrb21iMDA1ID0gbGlzdChIYWNrZXJrb254KHdvcmQsIF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSkKICAgICAgICBrb21iMDA2ID0gbGlzdChIYWNrZXJrb254KHJldmVyc2UsIF92YXJpYWJlbF9fWyJzcGVjaWFsY2hhcl9fX19fXyJdKSkKCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIkdlbmVyYXRlIERpY3Rpb25hcnkgVHlwZSBCdWxsZXRzICIpCiAgICB0aW1lLnNsZWVwKDIpCgogICAga29tYl91bmlxdWUgPSB7fQogICAgZm9yIGkgaW4gcmFuZ2UoMSwgMjIpOgogICAgICAgIGtvbWJfdW5pcXVlW2ldID0gbGlzdChkaWN0LmZyb21rZXlzKGtvbWJpW2ldKS5rZXlzKCkpCgogICAga29tYl91bmlxdWUwMSA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iaW5hYSkua2V5cygpKQogICAga29tYl91bmlxdWUwMiA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iaW5hYWMpLmtleXMoKSkKICAgIGtvbWJfdW5pcXVlMDMgPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYmluYWF3KS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTA0ID0gbGlzdChkaWN0LmZyb21rZXlzKGtvbWJpbmFhaykua2V5cygpKQogICAga29tYl91bmlxdWUwNSA9IGxpc3QoZGljdC5mcm9ta2V5cyh3b3JkKS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTA3ID0gbGlzdChkaWN0LmZyb21rZXlzKGtvbWIwMDEpLmtleXMoKSkKICAgIGtvbWJfdW5pcXVlMDggPSBsaXN0KGRpY3QuZnJvbWtleXMoa29tYjAwMikua2V5cygpKQogICAga29tYl91bmlxdWUwOSA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iMDAzKS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTAxMCA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iMDA0KS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTAxMSA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iMDA1KS5rZXlzKCkpCiAgICBrb21iX3VuaXF1ZTAxMiA9IGxpc3QoZGljdC5mcm9ta2V5cyhrb21iMDA2KS5rZXlzKCkpCgogICAgdW5pcWxpc3QgPSAoCiAgICAgICAgYmRzcwogICAgICAgICsgd2Jkc3MKICAgICAgICArIGtiZHNzCiAgICAgICAgKyByZXZlcnNlCiAgICAgICAgKyBrb21iX3VuaXF1ZTAxCiAgICAgICAgKyBrb21iX3VuaXF1ZTAyCiAgICAgICAgKyBrb21iX3VuaXF1ZTAzCiAgICAgICAgKyBrb21iX3VuaXF1ZTA0CiAgICAgICAgKyBrb21iX3VuaXF1ZTA1CiAgICApCgogICAgZm9yIGkgaW4gcmFuZ2UoMSwgMjEpOgogICAgICAgIHVuaXFsaXN0ICs9IGtvbWJfdW5pcXVlW2ldCgogICAgdW5pcWxpc3QgKz0gKAogICAgICAgIGtvbWJfdW5pcXVlMDcKICAgICAgICArIGtvbWJfdW5pcXVlMDgKICAgICAgICArIGtvbWJfdW5pcXVlMDkKICAgICAgICArIGtvbWJfdW5pcXVlMDEwCiAgICAgICAgKyBrb21iX3VuaXF1ZTAxMQogICAgICAgICsga29tYl91bmlxdWUwMTIKICAgICkKICAgIHVuaXF1ZV9saXN0YSA9IGxpc3QoZGljdC5mcm9ta2V5cyh1bmlxbGlzdCkua2V5cygpKQogICAgdW5pcXVlX2xlZXQgPSBbXQogICAgaWYgX3ZhcmlhYmVsX19bIl9fX19tb2RlIl0gPT0gInkiIG9yIF92YXJpYWJlbF9fWyJfX19fbW9kZSJdID09ICJZIjoKICAgICAgICBmb3IgKAogICAgICAgICAgICB4CiAgICAgICAgKSBpbiAoCiAgICAgICAgICAgIHVuaXF1ZV9saXN0YQogICAgICAgICk6ICAjIGlmIHlvdSB3YW50IHRvIGFkZCBtb3JlIGxlZXQgY2hhcnMsIHlvdSB3aWxsIG5lZWQgdG8gYWRkIG1vcmUgbGluZXMgaW4gY3VwcC5jZmcgdG9vLi4uCgogICAgICAgICAgICB4ID0gbWFrZV9sZWV0KHgpICAjIGNvbnZlcnQgdG8gbGVldAogICAgICAgICAgICB1bmlxdWVfbGVldC5hcHBlbmQoeCkKCiAgICB1bmlxdWVfbGlzdCA9IHVuaXF1ZV9saXN0YSArIHVuaXF1ZV9sZWV0CgogICAgdW5pcXVlX2xpc3RfZmluaXNoZWQgPSBbXQogICAgdW5pcXVlX2xpc3RfZmluaXNoZWQgPSBbCiAgICAgICAgeAogICAgICAgIGZvciB4IGluIHVuaXF1ZV9saXN0CiAgICAgICAgaWYgbGVuKHgpIDwgX19fX19fX29wdGlvblsiX19fX19fX19fZ2xvYmFsIl1bIl9fX19fX19fY3RvZnIiXSBhbmQgbGVuKHgpID4gX19fX19fX29wdGlvblsiX19fX19fX19fZ2xvYmFsIl1bIl9fX19fX19fY2Zyb20iXQogICAgXQoKICAgIHByaW50X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXygiR2VuZXJhdGUvIiArIF92YXJpYWJlbF9fWyJfbmFtZV8iXSArICIudHh0IiwgdW5pcXVlX2xpc3RfZmluaXNoZWQpCgoKI0NsYXNzIEt1bXB1bGFuIFdhcm5hCmNsYXNzIGNvbG9ycygpOgoJRGVmYXVsdCAgICAgID0gIlwwMzNbMzltIgoJQmxhY2sgICAgICAgID0gIlwwMzNbMzBtIgoJUmVkICAgICAgICAgID0gIlwwMzNbMzFtIgoJR3JlZW4gICAgICAgID0gIlwwMzNbMzJtIgoJWWVsbG93ICAgICAgID0gIlwwMzNbMzNtIgoJQmx1ZSAgICAgICAgID0gIlwwMzNbMzRtIgoJTWFnZW50YSAgICAgID0gIlwwMzNbMzVtIgoJQ3lhbiAgICAgICAgID0gIlwwMzNbMzZtIgoJTGlnaHRHcmF5ICAgID0gIlwwMzNbMzdtIgoJRGFya0dyYXkgICAgID0gIlwwMzNbOTBtIgoJTGlnaHRSZWQgICAgID0gIlwwMzNbOTFtIgoJTGlnaHRHcmVlbiAgID0gIlwwMzNbOTJtIgoJTGlnaHRZZWxsb3cgID0gIlwwMzNbOTNtIgoJTGlnaHRCbHVlICAgID0gIlwwMzNbOTRtIgoJTGlnaHRNYWdlbnRhID0gIlwwMzNbOTVtIgoJTGlnaHRDeWFuICAgID0gIlwwMzNbOTZtIgoJV2hpdGUgICAgICAgID0gIlwwMzNbOTdtIgoKI2Z1bmN0aW9uIFBhc3N3b3JkIEJhc2lzIEthbXVzCmRlZiBmdW5jdGlvbihfX19fX19fZmlsZW5hbWUpOgoKCWlmIG9zLnBhdGguaXNmaWxlKF9fX19fX19maWxlbmFtZSk6CgoJCWNvbl9fX19fID0gY29uZmlncGFyc2VyLkNvbmZpZ1BhcnNlcigpCgkJY29uX19fX18ucmVhZChfX19fX19fZmlsZW5hbWUpCgoJCV9fX19fX19vcHRpb25bIl9fX19fX19fX2dsb2JhbCJdID0gewoKCQkiX19fX19fX195ZWFycyI6IGNvbl9fX19fLmdldCgiX19fX19fX195ZWFycyIsICJfX19fX19fX3llYXJzIikuc3BsaXQoIiwiKSwKCQkiX19fX19fX19jaGFycyI6IGNvbl9fX19fLmdldCgiX19fX19fX19zcGVjaWFsY2hhcnNfIiwgIl9fX19fX19fY2hhcnMiKS5zcGxpdCgiLCIpLAoJCSJfX19fX19fX251bWZyIjogY29uX19fX18uZ2V0aW50KCJfX19fX19fX251bSIsICJfX19mcm9tIiksCgkJIl9fX19fX19fbnVtdG8iOiBjb25fX19fXy5nZXRpbnQoIl9fX19fX19fbnVtIiwgIl9fX19fdG8iKSwKCQkiX19fX19fX19jZnJvbSI6IGNvbl9fX19fLmdldGludCgiX19fX19fX19udW0iLCAiX193Y2Zyb20iKSwKCQkiX19fX19fX19jdG9mciI6IGNvbl9fX19fLmdldGludCgiX19fX19fX19udW0iLCAiX19fd2N0byIpLAoJCSJfX19fX19fX3RocmVzIjogY29uX19fX18uZ2V0aW50KCJfX19fX19fX251bSIsICJfX3RocmVzIiksCgkJIl9fX19fX19nZXR1cmwiOiBjb25fX19fXy5nZXQoIl9fX19lY3RvIiwgIl9fX19fX2VjdG91cmwiKSwKCQkiX19fX19kb3dubG9hZCI6IGNvbl9fX19fLmdldCgiX19fZG93bmxvYWQiLCAiX19fX19fZGljdCIpLAoKCgkJfQoKCQlfX19sZWV0ID0gZnVuY3Rvb2xzLnBhcnRpYWwoY29uX19fX18uZ2V0LCAiX19fbGVldF8iKQoJCV9fX19fdGMgPSB7fQoJCV9fX19lcnMgPSB7ImMiLCAieSIsICJiIiwgImUiLCAiciIsICJpIiwgIm4iLCAiZCJ9CgoJCWZvciBfZXQgaW4gX19fX2VyczoKCQkJX19fX190Y1tfZXRdID0gY29uX19fX18uZ2V0KCJfX19sZWV0XyIsIF9ldCkKCQlfX19fX19fb3B0aW9uWyJfX19fX0VUVCJdID0gX19fX190YwoKCQlyZXR1cm4gVHJ1ZQoKCWVsc2U6CgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgIkNvbmZpZ3VyYXRpb24gZmlsZSAiICsgX19fX19fX2ZpbGVuYW1lICsgIiBub3QgZm91bmQhIikKCQlzeXMuZXhpdChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiAgKyAiRXhpdGluZy4iICsgY29sb3JzLkRlZmF1bHQpCgoJCXJldHVybiBGYWxzZQoKI3ByaW50IEhhc2lsIEdhbmVyYXRlIFBhc3N3b3JkIEJhc2lzIEthbXVzCmRlZiBwcmludF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18oZmlsZW5hbWUsIHVuaXF1ZV9saXN0X2ZpbmlzaGVkKToKICAgIGYgPSBvcGVuKGZpbGVuYW1lLCAidyIpCiAgICB1bmlxdWVfbGlzdF9maW5pc2hlZC5zb3J0KCkKICAgIGYud3JpdGUob3MubGluZXNlcC5qb2luKHVuaXF1ZV9saXN0X2ZpbmlzaGVkKSkKICAgIGYuY2xvc2UoKQogICAgZiA9IG9wZW4oZmlsZW5hbWUsICJyIikKICAgIGxpbmVzID0gMAogICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICBsaW5lcyArPSAxCiAgICBmLmNsb3NlKCkKICAgIHByaW50KCBjb2xvcnMuTGlnaHRSZWQgKyAiWytdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJTYXZpbmcgQnVsbGV0cyBEaWN0aW9uYXJ5IHR5cGUgKFMpIC4uLiIgKQogICAgdGltZS5zbGVlcCgyKQogICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICBwcmludCggY29sb3JzLkxpZ2h0UmVkICsgIlsrXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiTm93IFlvdSBOZWVkIFlvdXIgV2VhcG9uIFJlYWR5ICIgKyBjb2xvcnMuTGlnaHRSZWQgKyBmaWxlbmFtZSArIGNvbG9ycy5MaWdodEdyZWVuICsgIiBDb3VudGluZyAiICsgY29sb3JzLkxpZ2h0UmVkICsgc3RyKGxpbmVzKSArIGNvbG9ycy5EZWZhdWx0ICkKICAgIF9fb3B0aW9uXyA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbK10gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIkRvIHlvdSB3YW50IHRvIHN0YXJ0IHRoZSBhdHRhY2sgPyBZL1tOXTogIikubG93ZXIoKQoKICAgIGlmIF9fb3B0aW9uXyA9PSAieSI6CiAgICAgICAgX25vX19fID0gc3RyKGxpbmVzKQogICAgICAgIF9fX2F0dGFjayhmaWxlbmFtZSxfbm9fX18pCiAgICAgICAgcGFzcwoKI0NsYXNzIExvYWRpbmcgQ09uc29sZSBGQk0tMTM0CmRlZiBfVGVhbV9fKCk6CglfREVfXyA9IEZhbHNlCglfTkVfXyA9IDEKCWZvciB4IGluIGl0ZXJ0b29scy5jeWNsZShbJ0NZJywgJ0JFJywgJ1JTJywgJ0VDJyAsICdVUicgLCAnSVInICwgJ0lUJyAsICdZJ10pOgoJCV9ORV9fICs9IDEKCQlzeXMuc3Rkb3V0LndyaXRlKCdccicgKyBjb2xvcnMuTGlnaHRSZWQgKyAnWyVzXSclKF9ORV9fKSArICIgU3RhcnRpbmcgVGhlIEZCTS0xMzQgQ29uc29sZShzKS4uLiAiICsgeCArIGNvbG9ycy5EZWZhdWx0KQoJCXN5cy5zdGRvdXQuZmx1c2goKQoJCXRpbWUuc2xlZXAoMC4xKQoJCWlmIF9ORV9fID09IDEwMDoKCQkJb3Muc3lzdGVtKCdjbGVhcicpCgkJCV9pbnRlcmFjdGl2ZSgpCgkJCWJyZWFrCgkJcGFzcwoKJycnCglGQi1CcnV0ZSBGb3JjZSAxLjAgLXgKCUpheWFsYWggSW5kb25lc2lha3UKCShjKTIwMjAgCglodHRwczovL2dpdGh1Yi5jb20vYnlpbmRvc2VjdXJpdHkKCVtJUF0gMTE0LjEyNS41Ni4xNDgKJycnCgojQ2xhc3MgTG9hZGluZyBDT25zb2xlIEZCTS0xMzQKZGVmIF9fX0xvYWRpbmdfKCk6CglfXyA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PV9UZWFtX18pCglfXy5zdGFydCgpCglwYXNzCgoKI2ludGVyYWN0aXZlIENvbnNvbGUgVXNlciBNZW1pbGloIE9wdGlvbnMKZGVmIF9pbnRlcmFjdGl2ZSgpOgoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiU3RhcnRpbmcgcGVyc2lzdGVudCBoYW5kbGVyKHMpIikKCXRpbWUuc2xlZXAoMykKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfX2lucHV0ID0gaW5wdXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgICJEbyB5b3Ugd2FudCB0byBNYWtlIGEgRGljdGlvbmFyeT8gWS9bTl06ICIpCgkKCWlmIF9faW5wdXQgPT0gJ3knIG9yIF9faW5wdXQgPT0gJ1knOgoJCV9jYXJ0cmlkZ2UoKQoJCXBhc3MKCWVsaWYgX19pbnB1dCA9PSAnbicgb3IgX19pbnB1dCA9PSAnTic6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJX3BpbnRhcygpCglwYXNzCgojU3RhcnQgVGhlIHdvcmxkbGlzdCBQcm9zZXMKZGVmIF9jYXJ0cmlkZ2UoKToKCglfdmFyaWFiZWxfXyA9IHt9CgojaW5wdXRbTmFtZV0gCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfbmFtZV8gPSBpbnB1dCgiTmFtZTp+JCAiKQoJd2hpbGUgbGVuKF9uYW1lXykgPT0gMCBvciBfbmFtZV8gPT0gIiAiIG9yIF9uYW1lXyA9PSAiICAiIG9yIF9uYW1lXyA9PSAiICAgIjoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWy1dIFlvdSBtdXN0IGVudGVyIGEgbmFtZSBhdCBsZWFzdCEiICsgY29sb3JzLkxpZ2h0R3JlZW4pCgkJdGltZS5zbGVlcCgxKQoJCV9uYW1lXyA9IGlucHV0KCJOYW1lOn4kICIpLmxvd2VyKCkKCV92YXJpYWJlbF9fWyJfbmFtZV8iXSA9IHN0cihfbmFtZV8pCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9OaWNrXyJdID0gaW5wdXQoIk5pY2sgTmFtZTp+JCAiKS5sb3dlcigpCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9zdXJuYW1lXyJdID0gaW5wdXQoIlN1cm5hbWU6fiQgIikubG93ZXIoKQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92XyA9IGlucHV0KCJCaXJ0aGRhdGU6fiQgIikubG93ZXIoKQoJd2hpbGUgbGVuKF92XykgIT0gMCBhbmQgbGVuKF92XykgIT0gODoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWy1dIFlvdSBtdXN0IGVudGVyIDggZGlnaXRzIGZvciBiaXJ0aGRheSEiICsgY29sb3JzLkxpZ2h0R3JlZW4pCgkJdGltZS5zbGVlcCgxKQoJCV92XyA9IGlucHV0KCJCaXJ0aGRhdGU6fiQgIikubG93ZXIoKQoJX3ZhcmlhYmVsX19bIl92XyJdID0gc3RyKF92XykKCiNpbnB1dFtQYXJ0bmVyc10KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX3BhcnRuZXJzX18iXSA9IGlucHV0KCJQYXJ0bmVycyBOYW1lOn4kICIpLmxvd2VyKCkKCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19fX05pY2twYXJ0bmVyc19fIl0gPSBpbnB1dCgiUGFydG5lcnMgTmlja25hbWU6fiQgIikubG93ZXIoKQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fID0gaW5wdXQoIlBhcnRuZXJzIEJpcnRoZGF0ZTp+JCAiKS5sb3dlcigpCgl3aGlsZSBsZW4oX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18pICE9IDAgYW5kIGxlbihfX19fQmlydGhkYXRlcGFydG5lcnNfXykgIT0gODoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWy1dIFlvdSBtdXN0IGVudGVyIDggZGlnaXRzIGZvciBiaXJ0aGRheSEiICsgY29sb3JzLkxpZ2h0R3JlZW4pCgkJX19fX0JpcnRoZGF0ZXBhcnRuZXJzX18gPSBpbnB1dCgiUGFydG5lcnMgQmlydGhkYXRlOn4kICIpLmxvd2VyKCkKCV92YXJpYWJlbF9fWyJfX19fQmlydGhkYXRlcGFydG5lcnNfXyJdID0gc3RyKF9fX19CaXJ0aGRhdGVwYXJ0bmVyc19fKQoKI0lucHV0W0NoaWxkJ3NdCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX19fX2tpZCJdID0gaW5wdXQoIkNoaWxkJ3MgTmFtZTp+JCAiKS5sb3dlcigpCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX19uaWNraWRfIl0gPSBpbnB1dCgiQ2hpbGQncyBOaWNrbmFtZTp+JCAiKS5sb3dlcigpCgoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV9fX19CaXJ0aGRhdGVraWRfXyA9IGlucHV0KCJDaGlsZCdzIEJpcnRoZGF0ZTp+JCAiKQoJd2hpbGUgbGVuKF9fX19CaXJ0aGRhdGVraWRfXykgIT0gMCBhbmQgbGVuKF9fX19CaXJ0aGRhdGVraWRfXykgIT0gODoKCQlvcy5zeXN0ZW0oImNsZWFyIikKCQlwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWy1dIFlvdSBtdXN0IGVudGVyIDggZGlnaXRzIGZvciBiaXJ0aGRheSEiICsgY29sb3JzLkxpZ2h0R3JlZW4pCgkJX19fX0JpcnRoZGF0ZWtpZF9fID0gaW5wdXQoIkNoaWxkJ3MgQmlydGhkYXRlOn4kICIpCglfdmFyaWFiZWxfX1siX19fX0JpcnRoZGF0ZWtpZF9fIl0gPSBzdHIoX19fX0JpcnRoZGF0ZWtpZF9fKQoKI0lucHV0W1BldCdzXQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX3BldF8iXSA9IGlucHV0KCJQZXQncyBOYW1lOn4kICIpLmxvd2VyKCkKCiNJbnB1dFtjb21wYW55XQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX2NvbXBhbnlfIl0gPSBpbnB1dCgiY29tcGFueSBOYW1lOn4kICIpCgojSW5wdXRbd29yZHNdCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX3dvcmRzXyJdID0gWyIiXQoJd29yZHNfX18gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiAgKyAgIkFwYWthaCBBbmRhIGluZ2luIFRhbWJhaGthbiBrYXRhIGt1bmNpID8gWS9bTl06ICIpCgl3b3Jkc19fX18gPSAiIgoKCWlmIHdvcmRzX19fID09ICd5JyBvciB3b3Jkc19fXyA9PSAnWSc6CgkJb3Muc3lzdGVtKCJjbGVhciIpCgkJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCQl0aW1lLnNsZWVwKDEpCgkJd29yZHNfX19fID0gaW5wdXQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gICsgICJQbGVhc2UgZW50ZXIgdGhlIHdvcmRzIDogIikucmVwbGFjZSgiICIsICIiKQoJX3ZhcmlhYmVsX19bIl9fX3dvcmRzXyJdID0gd29yZHNfX19fLnNwbGl0KCIsIikKCiNJbnB1dFtzcGVjaWFsY2hhcl0KCglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCgl0aW1lLnNsZWVwKDEpCglfdmFyaWFiZWxfX1siX19fc3BlY2hhcnNfIl0gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiAgKyAgImthcmFrdGVyIGtodXN1cyBkaSBha2hpciBrYXRhID8gWS9bTl06ICIpLmxvd2VyKCkKCiNJbnB1dFtSYW5kb20gTnVtYmVyXQoKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKCXRpbWUuc2xlZXAoMSkKCV92YXJpYWJlbF9fWyJfX19yYW5kb21fX18iXSA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICArICAiVGFtYmFoa2FuIEFuZ2thIEFjYWsgRGkgQWtoaXIgS2F0YSA/IFkvW05dOiIpLmxvd2VyKCkKCiNJbnB1dFtMZWV0IE1vZGVdCgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIkZCTS0xMzQgIiArIF92ZXJzaW9uKQoJdGltZS5zbGVlcCgxKQoJX3ZhcmlhYmVsX19bIl9fX19tb2RlIl0gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiAgKyAgIkxlZXQgbW9kZT8gWS9bTl06ICIpLmxvd2VyKCkKCglfX19fX19fX19fX19fR2VuZXJhdGVfX19fKF92YXJpYWJlbF9fKQoKCiNbR2VuZXJhdGVdIFBhc3N3b3JkIEJhc2lzIEthbXVzIApkZWYgbWFrZV9sZWV0KHgpOgogICAgIiIiY29udmVydCBzdHJpbmcgdG8gbGVldCIiIgogICAgZm9yIGxldHRlciwgbGVldGxldHRlciBpbiBfX19fX19fb3B0aW9uWyJfX19fX0VUVCJdLml0ZW1zKCk6CiAgICAgICAgeCA9IHgucmVwbGFjZShsZXR0ZXIsIGxlZXRsZXR0ZXIpCiAgICByZXR1cm4geAoKCiMgZm9yIGNvbmNhdGVuYXRpb25zLi4uCmRlZiBjb25jYXRzKHNlcSwgc3RhcnQsIHN0b3ApOgogICAgZm9yIG15c3RyIGluIHNlcToKICAgICAgICBmb3IgbnVtIGluIHJhbmdlKHN0YXJ0LCBzdG9wKToKICAgICAgICAgICAgeWllbGQgbXlzdHIgKyBzdHIobnVtKQoKCiMgZm9yIHNvcnRpbmcgYW5kIG1ha2luZyBjb21iaW5hdGlvbnMuLi4KZGVmIEhhY2tlcmtvbngoc2VxLCBzdGFydCwgc3BlY2lhbD0iIik6CiAgICBmb3IgbXlzdHIgaW4gc2VxOgogICAgICAgIGZvciBteXN0cjEgaW4gc3RhcnQ6CiAgICAgICAgICAgIHlpZWxkIG15c3RyICsgc3BlY2lhbCArIG15c3RyMQoKZGVmIF9waW50YXMoKToKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsiRkJNLTEzNCAiICsgX3ZlcnNpb24pCiAgICBmaWxlbmFtZV8gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJFbnRlcltXb3JsZGxpc3RdOn4kICIpCiAgICBpZiAoZmlsZW5hbWVfLmZpbmQoJ3R4dCcpICE9IC0xKToKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgZiA9IG9wZW4oZmlsZW5hbWVfLCAiciIpCiAgICAgICAgbGluZXMgPSAwCiAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgbGluZXMgKz0gMQogICAgICAgIGYuY2xvc2UoKQogICAgICAgIF9ub19fXyA9IHN0cihsaW5lcykKICAgICAgICBfX19hdHRhY2soZmlsZW5hbWVfLF9ub19fXykgICAgICAKICAgIGVsc2U6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKICAgICAgICBzdHJsaXAgPSAoIGZpbGVuYW1lXyArICIudHh0IikKICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgZiA9IG9wZW4oc3RybGlwLCAiciIpCiAgICAgICAgbGluZXMgPSAwCiAgICAgICAgZm9yIGxpbmUgaW4gZjoKICAgICAgICAgICAgbGluZXMgKz0gMQogICAgICAgIGYuY2xvc2UoKQogICAgICAgIF9ub19fXyA9IHN0cihsaW5lcykKICAgICAgICBfX19hdHRhY2soc3RybGlwLF9ub19fXykgICAgICAgICAgICAgIAogICAgICAgIAoKCiNbR2VuZXJhdGVdIFBhc3N3b3JkIEJhc2lzIEthbXVzIApkZWYgX19TdGFydGluZ18oKToKCglmdW5jdGlvbihvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKG9zLnBhdGgucmVhbHBhdGgoX19maWxlX18pKSwgImNvbmZpZ3VyYXRpb24uY2ZnIikpCgoJX3N0cl8gPSBGYWxzZQoKCWlmIF9zdHJfID09IEZhbHNlOgoJCV9fX0xvYWRpbmdfKCkKCiNvcHRpb24gQXR0YWNrIFJhbmRvbSBGYWNlYm9vawpkb25lID0gRmFsc2UKZGVmIGJydXRlX3JhbmRvbV9hdHRhY2soKToKICAgIFdFQl9hdHRhY2sgPSAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLnBocCIKICAgIF9vcHRpb25fYnJ1dGVfcmFuZG9tX2F0dGFjayA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ09QVElPTlMgOiAnICsgIlJBTkRPTSBBVFRBQ0s/IFkvW05dOiAiKQogICAgCiAgICBpZiBfb3B0aW9uX2JydXRlX3JhbmRvbV9hdHRhY2sgPT0gJ1knIG9yIF9vcHRpb25fYnJ1dGVfcmFuZG9tX2F0dGFjayA9PSAieSI6CiAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnRkJNLTEzNCA6ICcgKyBfdmVyc2lvbikKICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdBQ0NPVU5UIDogJyArICdXQUlUSU5HIEZPUiBSRUNPVkVSWSEhJyApCiAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRSZWQgKyAnU0VMRVNBSSA6ICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJJTiAxIEhPVVIgMjAgTUlOVVRFUyIpCiAgICAgICAgX3RhcmdldF8gPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdPUFRJT05TIDogJyArICJUQVJHRVQgTkFNRSA6ICIpCiAgICAgICAgTmFtZV93b3JsZGxpc3QgPSAiQmluL2JydXRlX3JhbmRvbV9hdHRhY2tfYWNjb3VudC50eHQiCiAgICAgICAgX2dlbmVydE5vID0gMAogICAgICAgIEdlbmVyYXRlX19fX19fX19fX19fID0gW10KICAgICAgICBmb3IgeCBpbiByYW5nZSgxMDAwKToKICAgICAgICAgICAgX2dlbmVydE5vICs9IDEKICAgICAgICAgICAgR2VuZXJhdGVfX19fX19fX19fX18uYXBwZW5kKF90YXJnZXRfICsgc3RyKF9nZW5lcnRObykgKyAiQGdtYWlsLmNvbSIpCiAgICAgICAgICAgIGZpbGVfV29ybGRsaXN0X3JhbmRvbV9hdHRhY2sgPSBvcGVuKE5hbWVfd29ybGRsaXN0LCJ3IikKICAgICAgICAgICAgZmlsZV9Xb3JsZGxpc3RfcmFuZG9tX2F0dGFjay53cml0ZShvcy5saW5lc2VwLmpvaW4oR2VuZXJhdGVfX19fX19fX19fX18pKQogICAgICAgICAgICBmaWxlX1dvcmxkbGlzdF9yYW5kb21fYXR0YWNrLmNsb3NlKCkKCiAgICAgICAgX19fX19fX19hdHRhY2tfYWNjb3VudCA9IG9wZW4oTmFtZV93b3JsZGxpc3QsICJyIikKICAgICAgICBhY2NvdW50bm9fX19fID0gMTAwMAoKICAgICAgICBwYXNzd29yZF9hdHRhY2sgPSBbXQogICAgICAgIHNhdmVfcmVzdWx0ID0gW10KICAgICAgICBwYXNzd29yZF9hdHRhY2sgPSBpbnB1dChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICdPUFRJT05TIDogJyArICJQQVNTV09SRCBMSVNUIDogIikKICAgICAgICBfX19fX19fX19zdWNjZXNubyA9IDAKICAgICAgICBfX19fX19fX19nZW5lcmF0ZW5vc2F2ZWQgPSAwCiAgICAgICAgbmFtZV9zYXZlX3Jlc3VsdCA9ICJHZW5lcmF0ZS9BY2NvdW50X2F0dGFjay50eHQiCiAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpCiAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgRG9uZSA9IFtdCiAgICAgICAgCgoKICAgICAgICBmb3IgaSBpbiBfX19fX19fX2F0dGFja19hY2NvdW50OgogICAgICAgICAgICBhdHRhY2tfbGlzdCA9IGkuc3RyaXAoKQogICAgICAgICAgICBEYXRhRkJNX19fX19fID0geydlbWFpbCc6IGF0dGFja19saXN0LCdwYXNzJzogcGFzc3dvcmRfYXR0YWNrLCdsb2dpbic6J01hc3VrJ30KICAgICAgICAgICAgX19fX19fX19fX19yZXF1ZXN0cG9zdF8gPSByZXF1ZXN0cy5wb3N0KFdFQl9hdHRhY2ssIERhdGFGQk1fX19fX18pCiAgICAgICAgICAgIHJlc3BvbnNlX3NlcmFuZ2FuX3JhbmRvbSA9IF9fX19fX19fX19fcmVxdWVzdHBvc3RfLnVybAogICAgICAgICAgICByZXNwb25zZV9zZXJhbmdhbl9yYW5kb21fY29udGVudCA9IF9fX19fX19fX19fcmVxdWVzdHBvc3RfLnRleHQKICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEpCgogICAgICAgICAgICBpZiByZXNwb25zZV9zZXJhbmdhbl9yYW5kb20uZmluZCgiaG9tZS5waHAiKSAhPSAtMToKICAgICAgICAgICAgICAgIF9fX19fX19fX3N1Y2Nlc25vICs9IDEKICAgICAgICAgICAgICAgIF9fX19fX19fX2dlbmVyYXRlbm9zYXZlZCArPSAxIAogICAgICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0Qmx1ZSArICdTVUNDRVNTICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICI6IFsiICsgc3RyKF9fX19fX19fX3N1Y2Nlc25vKSArICI6XS1bR2VuZXJhdGUvQWNjb3VudF9hdHRhY2sudHh0XSIpCiAgICAgICAgICAgICAgICBzYXZlX3Jlc3VsdC5hcHBlbmQoIltHRU5FUkFURV0tW0ZCTS0xMzRdLSIgKyAiWyVkXSAiICUoX19fX19fX19fZ2VuZXJhdGVub3NhdmVkKSArICJbQUNDT1VOVF0gOiAiICsgYXR0YWNrX2xpc3QgKyAiIFtQQVNTV09SRF0gOiAiICsgcGFzc3dvcmRfYXR0YWNrKQogICAgICAgICAgICAgICAgR2VuZXJhdGVfYWNjb3VudF9wYXNzID0gb3BlbihuYW1lX3NhdmVfcmVzdWx0LCJ3IikKICAgICAgICAgICAgICAgIEdlbmVyYXRlX2FjY291bnRfcGFzcy53cml0ZShvcy5saW5lc2VwLmpvaW4oc2F2ZV9yZXN1bHQpKQogICAgICAgICAgICAgICAgR2VuZXJhdGVfYWNjb3VudF9wYXNzLmNsb3NlKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIF9fX19fX19fX3N1Y2Nlc25vICs9IDEKICAgICAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodFJlZCArICdFWFBMT0lUICcgKyBjb2xvcnMuR3JlZW4gKyAiOiBbIiArIGNvbG9ycy5MaWdodFJlZCArIHN0cihfX19fX19fX19zdWNjZXNubykgKyBjb2xvcnMuTGlnaHRHcmVlbiArICc6JyArICddLVtEaXNjYXJkZWQgSW4gVGhlIFRyYXNoIV0nICkKCiAgICAgICAgICAgIGlmIF9fX19fX19fX3N1Y2Nlc25vID09IDEwMDA6CiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgICAgIF9fX19fX19fX19fX19iYW5uZXIoKQogICAgICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnRkJNLTEzNCA6ICcgKyBfdmVyc2lvbikKICAgICAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgJ1dBSVRJTkcgRk9SIFJFQ09WRVJZISEnICkKICAgICAgICAgICAgICAgIGlmIF9fX19fX19fX2dlbmVyYXRlbm9zYXZlZCA+IDA6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0Qmx1ZSArICdTVUNDRVNTICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICI6IFNBVkVEIS1bRm91bmQ6ICIgKyBzdHIoX19fX19fX19fZ2VuZXJhdGVub3NhdmVkKSArICJdLSIpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodFJlZCArICdFWFBMT0lUICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICI6IEZBSUxFIS1bTm90IEZvdW5kOiAiICsgc3RyKF9fX19fX19fX2dlbmVyYXRlbm9zYXZlZCkgKyAiXS0iKQogICAgICAgICAgICAgICAgYnJlYWsKCgoKZGVmIF9fX2F0dGFjayhmaWxlbmFtZSxfbm9fX18pOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBfX19vcGVuID0gb3BlbihmaWxlbmFtZSwncicpCiAgICBfbiA9IDAKICAgIF94X19fX19fX19fXyA9IDAKICAgIF9fX19fX19fX19fX19iYW5uZXIoKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyJGQk0tMTM0ICIgKyBfdmVyc2lvbikKICAgIHRpbWUuc2xlZXAoMSkKICAgIHVfX19fX19fXyA9IGlucHV0KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgIlRhcmdldFtJRF06fiQgIikgCiAgICB0aW1lLnNsZWVwKDEpCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIF9fX19fX19fX2V4cGxvaXRiYW5uZXIoKQogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnRkJNLTEzNCA6ICcgKyBfdmVyc2lvbikKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgdV9fX19fX19fICsgJy0nKQogICAgdGltZS5zbGVlcCgxKQogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBfX19fX19fX19leHBsb2l0YmFubmVyKCkKICAgIF9fX19fX19fX19fV0VCX19fX19fX19fX19fX19fXyA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4ucGhwIgogICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnRkJNLTEzNCA6ICcgKyBfdmVyc2lvbikKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgdV9fX19fX19fICsgJy0nICkKICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgY29sb3JzLkxpZ2h0UmVkICsgJ1NFTEVTQUkgOiAnICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAiSU4gVElNRSAlcyIgICV0aW1lLnN0cmZ0aW1lKCIlWCIpKQogICAgZm9yIHggaW4gX19fb3BlbjoKICAgICAgICBfbiArPSAxCiAgICAgICAgX3hfX19fX19fX19fICs9IDEKICAgICAgICBsb3BfID0geC5zdHJpcCgpCiAgICAgICAgX19fX19fX19fX19EdF8gPSB7J2VtYWlsJzogdV9fX19fX19fLCdwYXNzJzogbG9wXywnbG9naW4nOidNYXN1ayd9CiAgICAgICAgX19fX19fX19fX19mcl8gPSByZXF1ZXN0cy5wb3N0KF9fX19fX19fX19fV0VCX19fX19fX19fX19fX19fXywgX19fX19fX19fX19EdF8pCiAgICAgICAgcmVzcG9uc2V4ID0gX19fX19fX19fX19mcl8udXJsCiAgICAgICAgcmVzcG9uc2UgPSBfX19fX19fX19fX2ZyXy50ZXh0CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHInICsgY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRHcmVlbiArICdBVFRFTVBUIDogWycrIGNvbG9ycy5MaWdodFJlZCArIHN0cihfbikgKyBjb2xvcnMuTGlnaHRHcmVlbiArICc6JyArIF9ub19fXyArICddJykKICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICB0aW1lLnNsZWVwKDEyMCkKICAgICAgICAKICAgICAgICBpZiBfeF9fX19fX19fX18gPT0gNjU6CiAgICAgICAgICAgIF94X19fX19fX19fXyA9IDAKICAgIAogICAgICAgIGlmIChyZXNwb25zZS5maW5kKCdLYW1pIG1lbWJhdGFzaSBzZWJlcmFwYSBzZXJpbmcgQW5kYSBkYXBhdCBtZW1wb3N0aW5nJykgIT0gLTEpOgogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0ZCTS0xMzQgOiAnICsgX3ZlcnNpb24pCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0FDQ09VTlQgOiAnICsgdV9fX19fX19fICsgJy0nICkKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyBjb2xvcnMuTGlnaHRSZWQgKyAnU0VMRVNBSSA6ICcgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJJTiAxIEhPVVIgMjAgTUlOVVRFUyIpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnQVRURU1QVCA6IFsnKyBjb2xvcnMuTGlnaHRSZWQgKyBzdHIoX24pICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnOicgKyBfbm9fX18gKyAnXScpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCAgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRZZWxsb3cgKyAiV0FSTklORyA6ICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArICJCTE9DSyBBVFRBQ0shIikKICAgICAgICAgICAgYnJ1dGVfcmFuZG9tX2F0dGFja19fXyA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PWJydXRlX3JhbmRvbV9hdHRhY2spCiAgICAgICAgICAgIGJydXRlX3JhbmRvbV9hdHRhY2tfX18uc3RhcnQoKSAgIAogICAgICAgICAgICB0aW1lLnNsZWVwKDQ4MDApCiAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQogICAgICAgICAgICBfX19fX19fX19fX19fYmFubmVyKCkKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnRkJNLTEzNCA6ICcgKyBfdmVyc2lvbikKICAgICAgICAgICAgcHJpbnQoY29sb3JzLkxpZ2h0UmVkICsgIlsqXSAiICsgY29sb3JzLkxpZ2h0R3JlZW4gKyAnQUNDT1VOVCA6ICcgKyB1X19fX19fX18gKyAnLScgKQogICAgICAgICAgICBwcmludChjb2xvcnMuTGlnaHRSZWQgKyAiWypdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIGNvbG9ycy5MaWdodFJlZCArICdTRUxFU0FJIDogJyArIGNvbG9ycy5MaWdodEdyZWVuICsgIklOIFRJTUUgJXMiICAldGltZS5zdHJmdGltZSgiJVgiKSkKCgogICAgICAgIGlmIHJlc3BvbnNleC5maW5kKCJob21lLnBocCIpICE9IC0xOgogICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgICAgICAgICAgX19fX19fX19fX19fX2Jhbm5lcigpCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgJ0ZCTS0xMzQgOiAnICsgX3ZlcnNpb24pCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodFllbGxvdyArICdBQ0NPVU5UIDogJyArIGNvbG9ycy5CbHVlICsgIlsiICsgY29sb3JzLkxpZ2h0Qmx1ZSArICJGT1VORCIgKyBjb2xvcnMuQmx1ZSArICJdICIgKyBjb2xvcnMuTGlnaHRHcmVlbiArIHVfX19fX19fXyArICctJyApCiAgICAgICAgICAgIHByaW50KGNvbG9ycy5MaWdodFJlZCArICJbKl0gIiArIGNvbG9ycy5MaWdodFllbGxvdyAgKyAiQVRURU1QVCA6IiArIGNvbG9ycy5CbHVlICsiIFsiICsgY29sb3JzLkxpZ2h0Qmx1ZSArIkZPVU5EIiArIGNvbG9ycy5CbHVlICsgIl0gIiArIGNvbG9ycy5MaWdodEdyZWVuICsgbG9wXyArIGNvbG9ycy5HcmVlbikKICAgICAgICAgICAgYnJlYWsKCgoKI3N0YXJ0CmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CglfX1N0YXJ0aW5nXygpCg==
"""
exec(b64decode(GenerateFile))